top; configure terminal;

# configuration ba3dd38d951442ed99adff9fe37b7774 generated Mon Oct 6 13:31:15 2025; firmware version 375839

%if% available "domain-settings"

domain-settings
  admin-state enabled
  password-treatment masked
  config-dir config:///
exit

%endif%

%if% available "password-alias"

password-alias "AccTest_PasswordAlias"
  password-encrypted "UR4N7yDwwJ7nraiWtruizNvNY9nYFAHk"
exit

%endif%

%if% available "include-config"

include-config "AccTest_IncludeConfig"
  config-url "http://localhost/config.zip"
  auto-execute 
  no interface-detection 
exit

%endif%

exec "http://localhost/config.zip"

crypto
  
%if% available "kerberos-keytab"

kerberos-keytab "AccTest_CryptoKerberosKeytab"
  file-name cert:///kerberos-keytab
  use-replay-cache 
  no generate-gss-checksum 
  gss-checksum-flags "" 
exit

%endif%

exit

crypto
  certificate "AccTest_CryptoCertificate" "cert:///acc-test-server.crt"
exit

crypto
  key "AccTest_CryptoKey" "cert:///acc-test-server.key" password-alias "AccTest_PasswordAlias"
exit

crypto
  sskey "AccTest_CryptoSSKey" "cert:///tokensecret"
exit

crypto
  idcred "AccTest_CryptoIdentCred" "AccTest_CryptoKey" "AccTest_CryptoCertificate"
exit

crypto
  valcred "AccTest_CryptoValCred"
    cert-validation-mode "legacy"
    use-crl "on"
    require-crl "off"
    crldp "ignore"
    explicit-policy "off"
    check-dates "on"
  exit
exit

crypto
  
%if% available "ssl-client"

ssl-client "AccTest_SSLClientProfile"
  protocols "TLSv1d1+TLSv1d2+TLSv1d3" 
  ciphers AES_256_GCM_SHA384
  ciphers CHACHA20_POLY1305_SHA256
  ciphers AES_128_GCM_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA
  no validate-server-cert 
  caching 
  cache-timeout 300
  cache-size 100
  ssl-client-features "" 
  curves secp521r1
  curves secp384r1
  curves secp256k1
  curves secp256r1
  use-custom-sni-hostname no
  no validate-hostname 
  hostname-validation-flags "" 
  no hostname-validation-fail 
  enable-tls13-compat 
  disable-renegotiation 
  sign-alg ecdsa_secp256r1_sha256
  sign-alg ecdsa_secp384r1_sha384
  sign-alg ecdsa_secp521r1_sha512
  sign-alg ed25519
  sign-alg ed448
  sign-alg rsa_pss_rsae_sha256
  sign-alg rsa_pss_rsae_sha384
  sign-alg rsa_pss_rsae_sha512
  sign-alg rsa_pss_pss_sha256
  sign-alg rsa_pss_pss_sha384
  sign-alg rsa_pss_pss_sha512
  sign-alg rsa_pkcs1_sha256
  sign-alg rsa_pkcs1_sha384
  sign-alg rsa_pkcs1_sha512
  sign-alg ecdsa_sha224
  sign-alg ecdsa_sha1
  sign-alg rsa_pkcs1_sha224
  sign-alg rsa_pkcs1_sha1
  sign-alg dsa_sha256
  sign-alg dsa_sha384
  sign-alg dsa_sha512
  require-closure-notification 
exit

%endif%

exit

crypto
  
%if% available "ssl-server"

ssl-server "AccTest_SSLServerProfile"
  protocols "TLSv1d1+TLSv1d2+TLSv1d3" 
  ciphers AES_256_GCM_SHA384
  ciphers CHACHA20_POLY1305_SHA256
  ciphers AES_128_GCM_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA
  idcred AccTest_CryptoIdentCred
  no request-client-auth 
  require-client-auth 
  validate-client-cert 
  send-client-auth-ca-list 
  caching 
  cache-timeout 300
  cache-size 20
  ssl-options "" 
  max-duration 60
  no disable-renegotiation 
  max-renegotiation-allowed 0
  no prohibit-resume-on-reneg 
  no compression 
  no allow-legacy-renegotiation 
  prefer-server-ciphers 
  no prioritize-chacha 
  require-closure-notification 
exit

%endif%

exit

crypto
  
%if% available "ssl-sni-mapping"

ssl-sni-mapping "AccTest_SSLSNIMapping"
  sni-mapping "hostname_wildmat" "AccTest_SSLServerProfile"
exit

%endif%

exit

crypto
  
%if% available "ssl-sni-server"

ssl-sni-server "AccTest_SSLSNIServerProfile"
  protocols "TLSv1d1+TLSv1d2+TLSv1d3" 
  sni-server-mapping AccTest_SSLSNIMapping
  ssl-options "" 
  max-duration 3600
  max-renegotiation-allowed 0
exit

%endif%

exit

%if% available "sshclientprofile"

sshclientprofile "AccTest_SSHClientProfile"
  no kex-alg
  no mac-alg
  user-name "someuser"
  profile-usage sftp
  user-auth "publickey+password" 
  persistent-connections 
  persistent-connection-timeout 120
  no strict-host-key-checking 
  enable-legacy-kex no
exit

%endif%

logging category "AccTest_LogLabel"
exit

logging target "AccTest_LogTarget"
  type file
  priority normal
  soap-version soap11
  format xml
  timestamp zulu
  no fixed-format 
  size 500
  local-file "logtemp:///AccTest_LogTarget.log"
  archive-mode rotate
  upload-method ftp
  rotate 3
  no ansi-color 
  facility user
  rate-limit 100
  maximum-connections 1
  connect-timeout 60
  idle-timeout 15
  active-timeout 0
  no feedback-detection 
  no event-detection 
  suppression-period 10
  no include-error-report 
  ssl-client-type client
  retry-interval 1
  retry-attempts 1
  long-retry-interval 20
  precision second
  buffer-size 2048
exit
logging event default-log "all" "error"
logging event default-log "mgmt" "notice"

%if% available "access-profile"

access-profile "AccTest_AccessProfile"
exit

%endif%

%if% available "ldap-search-parameters"

ldap-search-parameters "AccTest_LDAPSearchParameters"
  returned-attribute "dn"
  scope subtree
exit

%endif%

%if% available "ldap-connection-pool"

ldap-connection-pool "AccTest_LDAPConnectionPool"
  idle-timeout 120
  max-pool-size 35
  no reject-on-pool-limit 
exit

%endif%

%if% available "zos-nss"

zos-nss "AccTest_ZosNSSClient"
  host remote.host
  port 443
  client-id "client_id"
  system-name "sysname"
  user-name "username"
  password-alias AccTest_PasswordAlias
  ssl-client-type client
  ssl-client AccTest_SSLClientProfile
exit

%endif%

%if% available "nfs-static-mount"

nfs-static-mount "AccTest_NFSStaticMount"
  remote "url://test"
  no local-filesystem-access 
  version 3
  transport tcp
  mount-type hard
  no read-only 
  rsize 4096
  wsize 4096
  timeo 7
  retrans 3
exit

%endif%

%if% available "wcc-service"

wcc-service "AccTest_WCCService"
  odc-info-hostname example.com
  odc-info-port 1024
  update-method poll
  time-interval 10
  ssl-client-type client
exit

%endif%

%if% available "loadbalancer-group"

loadbalancer-group "AccTest_LoadBalancerGroup"
  algorithm round-robin
  no retrieve-wlm-info 
  wlm-type use-websphere
  wlm-transport http
  damp 120
  no giveup-when-all-members-down 
  no try-every-server 
  health-check
    no admin-state 
    target-uri "/"
    target-port 80
    type Standard
    use-soap 
    send-soap "store:///healthcheck.xml"
    timeout 10
    frequency 180
    xpath "/"
    filter "store:///healthcheck.xsl"
    no enforce-timeout 
    no independent-checks 
    no gatewayscript-checks 
    request-method GET
    request-doc "store:///healthcheck.json"
    request-content-type "application/json"
    response-evaluator store:///healthcheck.js
    tcp-conn-type Full
    ssl-client-type client
  exit
  no masquerade 
  no appl-routing 
  session-affinity
    enable-affinity 
    i-cookie-name "DPJSESSIONID"
    i-path "/"
    i-domain "datapower.com"
    no override-wlm-affinity 
    affinity-mode activeConditional
    i-cookie-attributes "" 
  exit
exit

%endif%

acl "AccTest_AccessControlList"
exit

%if% available "ftp-quote-command-list"

ftp-quote-command-list "AccTest_FTPQuoteCommands"
exit

%endif%

%if% available "json-settings"

json-settings "AccTest_JSONSettings"
  max-nesting-depth 64
  max-label-string-length 256
  max-value-string-length 8192
  max-number-length 128
  max-document-size 4194304
exit

%endif%

user-agent "AccTest_HTTPUserAgent"
  max-redirects 8
  timeout 300
exit

user-agent "default"
  summary "Default User Agent"
  max-redirects 8
  timeout 300
exit

%if% available "message-matching"

message-matching "AccTest_MessageMatching"
  method any
exit

%endif%

%if% available "message-type"

message-type "AccTest_MessageType"
exit

%endif%

%if% available "monitor-action"

monitor-action "AccTest_FilterAction"
  type notify
  log-priority debug
  block-interval 0
exit

%endif%

%if% available "monitor-count"

monitor-count "AccTest_CountMonitor"
  message-type AccTest_MessageType
  measure requests
  source all
  header "X-Client-IP"
  distinct-sources 10000
exit

%endif%

%if% available "monitor-duration"

monitor-duration "AccTest_DurationMonitor"
  message-type AccTest_MessageType
  measure messages
exit

%endif%

%if% available "wxs-grid"

wxs-grid "AccTest_WXSGrid"
  collective AccTest_LoadBalancerGroup
  grid "gridname"
  username "username"
  password-alias AccTest_PasswordAlias
  timeout 1000
  no encrypt 
  encrypt-alg tripledes-cbc
  no key-obfuscation 
  key-obfuscation-alg sha256
exit

%endif%

%if% available "sql-source"

sql-source "AccTest_SQLDataSource"
  db Oracle
  username "username"
  password-alias AccTest_PasswordAlias
  id "datasource_id"
  host datasource.host
  port 1488
  no limit 
  limit-size 128
  maximum-connections 10
  oracle-datasource-type SID
  connect-timeout 15
  query-timeout 30
  idle-timeout 180
  no load-balancing 
  mssql-encryption-method NoEncryption
  oracle-encryption-method NoEncryption
  db2-encryption-method NoEncryption
  oracle-encryption-level Rejected
  validate-server-certificate Enabled
  validate-host-name 
exit

%endif%

%if% available "input-conversion-map"

input-conversion-map "_webappfw_sql-json"
  default-encoding urlencoded
exit

input-conversion-map "AccTest_HTTPInputConversionMap"
exit

%endif%

%if% available "document-crypto-map"

document-crypto-map "AccTest_DocumentCryptoMap"
  operation encrypt
  select "*"
exit

%endif%

%if% available "xpath-routing"

xpath-routing "AccTest_XPathRoutingMap"
  rule "*" "localhost" "8888" "off"
exit

%endif%

%if% available "schema-exception-map"

schema-exception-map "AccTest_SchemaExceptionMap"
  original-schema "http://localhost"
  rule "*" "AllowEncrypted"
exit

%endif%

%if% available "urlmap"

urlmap "AccTest_URLMap"
  match "https://www.company.com/XML/stylesheets/*"
exit

urlmap "default-attempt-stream-all"
  match "*"
exit

%endif%

urlrewrite "AccTest_URLRewritePolicy"
  direction all
exit

urlrefresh "AccTest_URLRefreshPolicy"
  interval urlmap "default-attempt-stream-all" "0"
exit

%if% available "compile-options"

compile-options "AccTest_CompileOptionsPolicy"
  xslt-version XSLT10
  no strict 
  stack-size 524288
  wsi-validate ignore
  wsdl-validate-body strict
  wsdl-validate-headers lax
  wsdl-validate-faults strict
  no wsdl-wrapped-faults 
  no wsdl-strict-soap-version 
  no xacml-debug 
exit

compile-options "default-attempt-stream"
  xslt-version XSLT10
  no strict 
  try-stream default-attempt-stream-all
  stack-size 524288
  wsi-validate ignore
  wsdl-validate-body strict
  wsdl-validate-headers lax
  wsdl-validate-faults strict
  no wsdl-wrapped-faults 
  no wsdl-strict-soap-version 
  no xacml-debug 
exit

%endif%

%if% available "schema-exception-map"

schema-exception-map "AccTest_SchemaExceptionMap"
  original-schema "http://localhost"
  rule "*" "AllowEncrypted"
exit

%endif%

crypto
  
%if% available "jose-recipient-identifier"

jose-recipient-identifier "AccTest_JOSERecipientIdentifier"
  type key
  key AccTest_CryptoKey
  header-param "" "VALUE"
exit

%endif%

exit

crypto
  
%if% available "jose-signature-identifier"

jose-signature-identifier "AccTest_JOSESignatureIdentifier"
  type certificate
  cert AccTest_CryptoCertificate
  header-param "" "VALUE"
  verify 
exit

%endif%

exit

crypto
  
%if% available "jwe-recipient"

jwe-recipient "AccTest_JWERecipient"
  alg RSA1_5
  cert AccTest_CryptoCertificate
exit

%endif%

exit

crypto
  
%if% available "jwe-header"

jwe-header "AccTest_JWEHeader"
  recipient AccTest_JWERecipient
exit

%endif%

exit

crypto
  
%if% available "jws-signature"

jws-signature "AccTest_JWSSignature"
  alg RS256
  key AccTest_CryptoKey
exit

%endif%

exit

%if% available "parse-settings"

parse-settings "AccTest_ParseSettings"
  document-type detect
  document-size 4194304
  nesting-depth 512
  width 4096
  name-length 256
  value-length 8192
  unique-prefixes 1024
  unique-namespaces 1024
  unique-names 1024
  number-length 128
  no strict-utf8-encoding 
exit

parse-settings "default"
  document-type detect
  document-size 4194304
  nesting-depth 512
  width 4096
  name-length 256
  value-length 8192
  unique-prefixes 1024
  unique-namespaces 1024
  unique-names 1024
  number-length 128
  no strict-utf8-encoding 
exit

%endif%

%if% available "control-list"

control-list "AccTest_ControlList"
  no case-insensitive 
exit

control-list "default-accept-all"
  type blocklist
  no case-insensitive 
exit

control-list "default-reject-all"
  type allowlist
  no case-insensitive 
exit

%endif%

%if% available "api-routing"

api-routing "AccTest_APIRouting"
exit

api-routing "default-api-route"
exit

%endif%

%if% available "api-security"

api-security "AccTest_APISecurity"
exit

api-security "default-api-security"
  title "default-security"
  correlation-path "$.assembly.execute[5]"
exit

%endif%

%if% available "api-cors"

api-cors "AccTest_APICORS"
exit

api-cors "default-api-cors"
  title "default-cors"
  correlation-path "$.assembly.execute[0]"
exit

%endif%

%if% available "api-client-identification"

api-client-identification "AccTest_APIClientIdentification"
exit

api-client-identification "default-api-client-identification"
  title "default-client-identification"
  correlation-path "$.assembly.execute[3]"
exit

%endif%

%if% available "api-execute"

api-execute "AccTest_APIExecute"
exit

api-execute "default-api-execute"
exit

%endif%

%if% available "api-final"

api-final "AccTest_APIFinal"
  output "OUTPUT"
exit

api-final "default-api-final"
  output "OUTPUT"
exit

%endif%

%if% available "api-result"

api-result "AccTest_APIResult"
  output "OUTPUT"
exit

api-result "default-api-result"
  output "OUTPUT"
exit

%endif%

%if% available "api-schema"

api-schema "AccTest_APISchema"
  json-schema "http://localhost/json"
exit

%endif%

%if% available "api-ldap-reg"

api-ldap-reg "AccTest_APILDAPRegistry"
  ldap-host localhost
  ldap-port 636
  ldap-version v3
  ldap-auth-method searchDN
  ldap-search-param AccTest_LDAPSearchParameters
  ldap-readtimeout 60
  no ldap-group-auth-enabled 
  ldap-group-scope subtree
exit

%endif%

%if% available "api-auth-url-reg"

api-auth-url-reg "AccTest_APIAuthURLRegistry"
  auth-url "http://localhost"
exit

%endif%

%if% available "api-sec-basic-auth"

api-sec-basic-auth "AccTest_APISecurityBasicAuth"
  user-registry AccTest_APIAuthURLRegistry
exit

%endif%

%if% available "oauth-provider-settings"

oauth-provider-settings "AccTest_OAuthProviderSettings"
  no enable-debug-mode 
  provider-type native
  supported-grant-types "access_code" 
  supported-client-types "confidential" 
  apic-provider-base-path "/"
  apic-authorize-endpoint "/oauth2/authorize"
  apic-token-endpoint "/oauth2/token"
  no apic-enable-introspection 
  apic-introspect-endpoint "/oauth2/introspect"
  apic-token-secret AccTest_CryptoSSKey
  no apic-enable-one-time-use-access-token 
  apic-access-token-ttl 3600
  apic-auth-code-ttl 300
  no apic-enable-refresh-token 
  apic-enable-one-time-use-refresh-token 
  apic-refresh-token-limit 10
  apic-refresh-token-ttl 5400
  apic-maximum-consent-ttl 0
  no advanced-scope-validation-enabled 
  no advanced-scope-url-from-security 
  no advanced-scope-url-security-enabled 
  advanced-scope-url-security "basic-auth" 
  apic-enable-oidc 
  apic-oidc-hybrid-response-types "code_id_token" 
  apic-support-pkce 
  no apic-require-pkce 
  no apic-support-pkce-plain 
  apic-token-type-to-generate Bearer
  metadata-from "authentication_url" 
  mdheader-for-accesstoken "X-API-OAuth-Metadata-For-AccessToken"
  mdheader-for-payload "X-API-OAuth-Metadata-For-Payload"
  no external-revocation-enabled 
  external-revocation-url-security "basic-auth" 
  external-revocation-cache-type NoCache
  external-revocation-cache-ttl 900
  external-revocation-protocol-format JSON
  external-revocation-fail-on-error 
  enable-token-management 
  token-manager-type native
  api-security-token-manager default
  no apic-app-revoke-enable 
  apic-app-revoke-endpoint "/oauth2/revoke"
  no apic-owner-revoke-enable 
  apic-owner-revoke-endpoint "/oauth2/issued"
  third-party-introspect-cache-type NoCache
  third-party-introspect-cache-ttl 900
  no third-party-authorization-header-pass-thru 
  third-party-introspect-url-security "basic-auth" 
exit

%endif%

%if% available "assembly-invoke"

assembly-invoke "AccTest_AssemblyActionInvoke"
  url "https://localhost"
  timeout 60
  method Keep
  no websocket-upgrade 
  backend-type detect
  graphql-send-type detect
  no compression 
  cache-type Protocol
  ttl 900
  no cache-unsafe-response 
  no follow-redirects 
  no use-http-10 
  http-version HTTP/1.1
  no http2-required 
  chunked-uploads 
  persistent-connection 
  no stop-on-error 
  error-types "" 
  output "message"
  no decode-request-params 
  no encode-plus-char 
  no keep-payload 
  inject-user-agent 
  no inject-proxy-headers 
  header-control-list default-accept-all
  parameter-control-list default-reject-all
exit

%endif%

%if% available "assembly-setvar"

assembly-setvar "AccTest_AssemblyActionSetVar"
  variable
    action set
    name "varname"
    type any
    value "value"
  exit
exit

%endif%

%if% available "assembly-throw"

assembly-throw "AccTest_AssemblyActionThrow"
  error-id "errorid"
exit

%endif%

%if% available "assembly-client-security"

assembly-client-security "AccTest_AssemblyActionClientSecurity"
  stop-on-error 
  secret-required 
  extract-credential-method header
  id-name "idname"
  secret-name "secretname"
  http-type basic
  client-auth-method native
exit

%endif%

%if% available "assembly-extract"

assembly-extract "AccTest_AssemblyActionExtract"
  root "message.body"
  extract
    capture "capture"
  exit
exit

%endif%

%if% available "assembly-gatewayscript"

assembly-gatewayscript "AccTest_AssemblyActionGatewayScript"
  gatewayscript-location "gsfile"
exit

%endif%

%if% available "assembly-graphql-introspect"

assembly-graphql-introspect "AccTest_AssemblyActionGraphQLIntrospect"
  input "message"
exit

%endif%

%if% available "assembly-html-page"

assembly-html-page "AccTest_AssemblyActionHtmlPage"
  output "message"
exit

assembly-html-page "default-html-page"
  title "default-html-page"
  correlation-path "$.assembly.execute[2]"
  output "message"
exit

%endif%

%if% available "assembly-json-to-xml"

assembly-json-to-xml "AccTest_AssemblyActionJson2Xml"
  conversion-format badgerfish
  input "message"
  root-element "json"
  no output-root 
  unnamed-element "element"
exit

%endif%

%if% available "assembly-jwt-generate"

assembly-jwt-generate "AccTest_AssemblyActionJWTGenerate"
  jwt "generated.jwt"
  no jti-claim 
  iss-claim "iss.claim"
  exp-claim 3600
exit

%endif%

%if% available "assembly-jwt-validate"

assembly-jwt-validate "AccTest_AssemblyActionJWTValidate"
  jwt "request.headers.authorization"
  output-claims "decoded.claims"
exit

%endif%

%if% available "assembly-log"

assembly-log "AccTest_AssemblyActionLog"
  mode gather-only
  log-level "default"
  no recount-bytes 
exit

%endif%

%if% available "assembly-map"

assembly-map "AccTest_AssemblyActionMap"
  location local:///file
exit

%endif%

%if% available "assembly-oauth"

assembly-oauth "AccTest_AssemblyActionOAuth"
  supported-oauth-components "" 
exit

%endif%

%if% available "assembly-parse"

assembly-parse "AccTest_AssemblyActionParse"
  parse-settings-reference
    default default
  exit
  input "message"
  no warn-on-empty-input 
  no use-content-type 
exit

%endif%

%if% available "assembly-rate-limit"

assembly-rate-limit "AccTest_AssemblyActionRateLimit"
  source plan-default
  group-action consume
exit

assembly-rate-limit "default-api-ratelimit"
  title "default-ratelimit"
  correlation-path "$.assembly.execute[4]"
  source plan-default
  group-action consume
exit

%endif%

%if% available "assembly-redact"

assembly-redact "AccTest_AssemblyActionRedact"
  redact-action
    path "path"
    action redact
  exit
exit

%endif%

%if% available "assembly-user-security"

assembly-user-security "AccTest_AssemblyActionUserSecurity"
  factor-id "default"
  extract-identity-method basic
  ei-stop-on-error 
  redirect-time-limit 300
  ei-default-form 
  ei-custom-form-csp "default-src 'self'"
  ei-form-time-limit 300
  user-auth-method user-registry
  au-stop-on-error 
  user-registry AccTest_APIAuthURLRegistry
  auth-response-headers-pattern "(?i)x-api*"
  auth-response-header-credential "X-API-Authenticated-Credential"
  user-az-method authenticated
  az-stop-on-error 
  az-default-form 
  az-custom-form-csp "default-src 'self'"
  az-form-time-limit 300
  no az-table-display-checkboxes 
  az-table-dynamic-entries "user.default.az.dynamic_entries"
exit

%endif%

%if% available "assembly-validate"

assembly-validate "AccTest_AssemblyActionValidate"
  validate-against url
  error-policy all
  schema AccTest_APISchema
  input "message"
exit

%endif%

%if% available "assembly-websocket-upgrade"

assembly-websocket-upgrade "AccTest_AssemblyActionWebSocketUpgrade"
  url "https://localhost"
  timeout 60
  no follow-redirects 
  no decode-request-params 
  no encode-plus-char 
  inject-user-agent 
  no inject-proxy-headers 
  header-control-list default-accept-all
  parameter-control-list default-reject-all
exit

%endif%

%if% available "assembly-wsdl"

assembly-wsdl "AccTest_AssemblyActionWSDL"
  output "message"
exit

assembly-wsdl "default-wsdl"
  title "default-wsdl"
  correlation-path "$.assembly.execute[1]"
  output "message"
exit

%endif%

%if% available "assembly-xml-to-json"

assembly-xml-to-json "AccTest_AssemblyActionXml2Json"
  conversion-format badgerfish
  input "message"
exit

%endif%

%if% available "assembly-xslt"

assembly-xslt "AccTest_AssemblyActionXSLT"
  no payload 
  stylesheet "local:///stylesheet"
  no serialize-output 
exit

%endif%

%if% available "assembly-function"

assembly-function "AccTest_AssemblyFunction"
exit

assembly-function "default-func-global"
  assembly default-assembly-global
exit

assembly-function "default-func-main"
  assembly default-assembly-main
exit

assembly-function "default-func-preflow"
  assembly default-preflow
exit

%endif%

%if% available "assembly-function-call"

assembly-function-call "AccTest_AssemblyActionFunctionCall"
  function default-func-global
exit

assembly-function-call "default-func-call-global"
  function default-func-global
exit

assembly-function-call "default-func-call-main"
  function default-func-main
exit

assembly-function-call "default-func-call-preflow"
  function default-func-preflow
exit

%endif%

%if% available "assembly-graphql-execute"

assembly-graphql-execute "AccTest_AssemblyActionGraphQLExecute"
  input "message"
  no cost-introspection 
exit

%endif%

action "_webappfw_sql-json"
  reset
  type convert-http
  input "NULL"
  parse-settings-result-type none
  transform-language none
  output "___PREPARSED_SQL_1"
  no charset-transparency 
  input-conversion _webappfw_sql-json
  ssl-client-type proxy
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "AccTest_StylePolicyAction"
  reset
  type xform
  input "INPUT"
  transform "tfile"
  parse-settings-result-type none
  input-language xml
  transform-language none
  output-language default
  output "OUTPUT"
  no charset-transparency 
  ssl-client-type client
  no transactional 
  soap-validation body
  sql-source-type static
  strip-signature 
  no asynchronous 
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs 
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

rule "AccTest_StylePolicyRule"
  reset
  type rule
  input-filter none
  output-filter none
  no non-xml-processing 
  no unprocessed 
exit

%if% available "assembly-switch"

assembly-switch "AccTest_AssemblyLogicSwitch"
  case "condition" "default-api-rule"
exit

%endif%

%if% available "assembly-operation-switch"

assembly-operation-switch "AccTest_AssemblyLogicOperationSwitch"
  case "default-api-rule" "operationid" "" "GET"
exit

%endif%

%if% available "api-rule"

api-rule "AccTest_APIRule"
  no dynamic-actions-mode 
exit

api-rule "default-api-error-rule"
  no dynamic-actions-mode 
  action default-api-result
exit

api-rule "default-api-rule"
  no dynamic-actions-mode 
  action default-api-route
  action default-api-execute
  action default-api-result
exit

api-rule "default-assembly-finally-global"
  no dynamic-actions-mode 
  action default-api-result
exit

api-rule "default-assembly-func-rule"
  no dynamic-actions-mode 
  action default-func-call-global
exit

api-rule "default-assembly-rule-global"
  no dynamic-actions-mode 
  action default-api-route
  action default-func-call-preflow
  action default-func-call-main
exit

api-rule "default-assembly-rule-main"
  no dynamic-actions-mode 
  action default-api-execute
exit

api-rule "default-empty-rule"
  no dynamic-actions-mode 
exit

api-rule "default-preflow-rule"
  no dynamic-actions-mode 
  action default-api-cors
  action default-wsdl
  action default-html-page
  action default-api-client-identification
  action default-api-ratelimit
  action default-api-security
exit

%endif%

%if% available "assembly"

assembly "AccTest_Assembly"
  rule default-empty-rule
exit

assembly "default-assembly-global"
  rule default-assembly-rule-global
  finally default-assembly-finally-global
exit

assembly "default-assembly-main"
  rule default-assembly-rule-main
exit

assembly "default-empty-assembly"
  rule default-empty-rule
exit

assembly "default-preflow"
  rule default-preflow-rule
exit

%endif%

matching "AccTest_Matching"
  no match-with-pcre 
  no combine-with-or 
exit

stylepolicy "AccTest_StylePolicy"
  reset
  filter "store:///filter-reject-all.xsl"
  xsldefault "store:///identity.xsl"
  xquerydefault "store:///reject-all-json.xq"
exit

stylepolicy "default"
  reset
  summary "Default Processing Policy"
  filter "store:///filter-reject-all.xsl"
  xsldefault "store:///identity.xsl"
  xquerydefault "store:///reject-all-json.xq"
exit

%if% available "wsm-rule"

wsm-rule "AccTest_WSStylePolicyRule"
  action AccTest_StylePolicyAction
  type rule
  input-filter none
  output-filter none
  no non-xml-processing 
  no unprocessed 
exit

%endif%

%if% available "webapp-session-management"

webapp-session-management "AccTest_WebAppSessionPolicy"
  auto-renew 
  lifetime 3600
  no allow-cookie-sharing 
  matching-policy __default-accept-service-providers__
exit

%endif%

%if% available "webapp-error-handling"

webapp-error-handling "AccTest_WebAppErrorHandlingPolicy"
  type standard
exit

%endif%

%if% available "webapp-gnvc"

webapp-gnvc "AccTest_NameValueProfile"
  max-attributes 256
  max-aggregate-size 128000
  max-name-size 512
  max-value-size 1024
  unvalidated-fixup-policy strip
  no unvalidated-xss-check 
  unvalidated-xss-patternsfile store:///XSS-Patterns.xml
exit

%endif%

%if% available "samlattrs"

samlattrs "AccTest_SAMLAttributes"
exit

%endif%

%if% available "xacml-pdp"

xacml-pdp "AccTest_XACMLPDP"
  no equal-policies 
  general-policy "http://test/uri"
  cache-ttl 0
exit

%endif%

%if% available "metadata"

metadata "AccTest_ProcessingMetadata"
exit

metadata "ftp-usercert-metadata"
  meta-item "variable" "dn" "var://context/INPUT/ftp/tls/client-subject-dn"
  meta-item "variable" "issuer" "var://context/INPUT/ftp/tls/client-issuer-dn"
  meta-item "variable" "serial" "var://context/INPUT/ftp/tls/client-serial-number"
exit

metadata "ftp-username-metadata"
  meta-item "variable" "dn" "var://context/INPUT/ftp/tls/client-subject-dn"
  meta-item "variable" "issuer" "var://context/INPUT/ftp/tls/client-issuer-dn"
  meta-item "variable" "password" "var://context/INPUT/ftp/password"
  meta-item "variable" "serial" "var://context/INPUT/ftp/tls/client-serial-number"
  meta-item "variable" "username" "var://context/INPUT/ftp/username"
exit

metadata "oauth-scope-metadata"
  meta-item "variable" "scope" "var://context/INPUT/oauth/verified-scope"
exit

metadata "ssh-password-metadata"
  meta-item "variable" "password" "var://context/INPUT/ssh/password"
  meta-item "variable" "publickey" "var://context/INPUT/ssh/publickey"
  meta-item "variable" "username" "var://context/INPUT/ssh/username"
exit

%endif%

crypto
  
%if% available "cookie-attribute-policy"

cookie-attribute-policy "AccTest_CookieAttributePolicy"
  cookie-attribute "" 
  path "/"
  interval 3600
exit

%endif%

exit

%if% available "forms-login-policy"

forms-login-policy "AccTest_FormsLoginPolicy"
  login-url "/LoginPage.htm"
  use-cookie-attribute no
  use-ssl 
  no enable-migration 
  ssl-port 8080
  error-url "/ErrorPage.htm"
  logout-url "/LogoutPage.htm"
  default-url "/"
  forms-location backend
  local-login-page store:///LoginPage.htm
  local-error-page store:///ErrorPage.htm
  local-logout-page store:///LogoutPage.htm
  username-field "j_username"
  password-field "j_password"
  redirect-field "originalUrl"
  post-action-url "/j_security_check"
  inactivity-timeout 600
  session-lifetime 10800
  redirect-url-type urlin
  custom-url "https://hostname.yourcompany.com:8888"
  support-type static
  script-location store:///Form-Generate-HTML.xsl
exit

%endif%

xmlmgr "AccTest_XMLManager"
xsl cache memorysize "AccTest_XMLManager" "2147483647"
xsl cache size "AccTest_XMLManager" "256"
xsl checksummed cache AccTest_XMLManager
memoization "AccTest_XMLManager"

xml parser limits "AccTest_XMLManager"
 bytes-scanned 4194304
 element-depth 512
 attribute-count 128
 max-node-size 33554432
 forbid-external-references 
 external-references forbid
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "AccTest_XMLManager"
 no policy
 maxdocs "5000"
 size "0"
 max-writes "32768"
exit
no xml validate "AccTest_XMLManager" *

xml-manager "AccTest_XMLManager"
  user-agent "default"
  ldap-pool "AccTest_LDAPConnectionPool"
exit

xmlmgr "default"
xsl cache memorysize "default" "2147483647"
xsl cache size "default" "256"
xsl checksummed cache default
memoization "default"

xml parser limits "default"
 bytes-scanned 4194304
 element-depth 512
 attribute-count 128
 max-node-size 33554432
 forbid-external-references 
 external-references forbid
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "default"
 no policy
 maxdocs "5000"
 size "0"
 max-writes "32768"
exit
no xml validate "default" *

xml-manager "default"
  summary "Default XML-Manager"
  user-agent "default"
exit

xmlmgr "default-attempt-stream"
xslconfig "default-attempt-stream" "default-attempt-stream"
xsl cache memorysize "default-attempt-stream" "2147483647"
xsl cache size "default-attempt-stream" "256"
xsl checksummed cache default-attempt-stream
memoization "default-attempt-stream"

xml parser limits "default-attempt-stream"
 bytes-scanned 268435456
 element-depth 512
 attribute-count 128
 max-node-size 268435456
 forbid-external-references 
 external-references forbid
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "default-attempt-stream"
 no policy
 maxdocs "5000"
 size "0"
 max-writes "32768"
exit
no xml validate "default-attempt-stream" *

xml-manager "default-attempt-stream"
  summary "Default Streaming XML-Manager"
  user-agent "default"
exit

xmlmgr "default-wsrr"
xsl cache memorysize "default-wsrr" "2147483647"
xsl cache size "default-wsrr" "256"
xsl checksummed cache default-wsrr
memoization "default-wsrr"

xml parser limits "default-wsrr"
 bytes-scanned 4194304
 element-depth 512
 attribute-count 128
 max-node-size 33554432
 forbid-external-references 
 external-references forbid
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "default-wsrr"
 no policy
 maxdocs "5000"
 size "0"
 max-writes "32768"
exit
no xml validate "default-wsrr" *

xml-manager "default-wsrr"
  summary "WSRR XML-Manager"
  user-agent "default"
exit

crypto
  
%if% available "jwt-validator"

jwt-validator "AccTest_AAAJWTValidator"
  no claims
  validate-method "" 
  decrypt-fetch-cred-url "http://example.com/v3/key"
  no verify-certificate-against-valcred 
  verify-fetch-cred-url "http://example.com/v3/certs"
  username-claim "sub"
exit

%endif%

exit

crypto
  
%if% available "jwt-generator"

jwt-generator "AccTest_AAAJWTGenerator"
  iss "idg"
  duration 3600
  add-claims "" 
  nbf 0
  generate-method "" 
  sign-alg RS256
  enc A128CBC-HS256
  enc-alg RSA1_5
exit

%endif%

exit

crypto
  
%if% available "social-login-policy"

social-login-policy "AccTest_SocialLoginPolicy"
  client-id "client_id"
  client-secret "client_secret"
  client-redirect-uri "URL-in/social-login-callback"
  client-ssl AccTest_SSLClientProfile
  provider google
  provider-az-endpoint "https://example.com/auth"
  provider-token-endpoint "https://example.com/token"
  no validate-jwt-token 
exit

%endif%

exit

%if% available "oauth-supported-client"

oauth-supported-client "AccTest_OAuthSupportedClient"
  no customized 
  oauth-role "azsvr" 
  az-grant "code" 
  client-type confidential
  no check-client-credential 
  no use-validation-url 
  client-authen-method secret
  no generate-client-secret 
  client-secret "secret"
  caching replay
  validation-features "" 
  redirect-uri "^https://example.com/redirect$"
  no custom-scope-check 
  scope "*"
  token-secret AccTest_CryptoSSKey
  local-az-page-url store:///OAuth-Generate-HTML.xsl
  dp-state-lifetime 300
  au-code-lifetime 300
  access-token-lifetime 3600
  refresh-token-allowed 0
  refresh-token-lifetime 5400
  max-consent-lifetime 0
  no custom-resource-owner 
  rs-set-header "" 
  validation-url-ssl-client-type client
  oauth-features "" 
exit

%endif%

%if% available "oauth-supported-client-group"

oauth-supported-client-group "AccTest_OAuthSupportedClientGroup"
  no customized 
  customized-type custom
  oauth-role "" 
  client AccTest_OAuthSupportedClient
exit

%endif%

%if% available "aaapolicy"

aaapolicy "AccTest_AAAPolicy"
 extract-identity  "" "" "" "" "" "login" "off" "" "off" "" "xmlfile" "" "" "" "" "" "proxy" "" "" "" ""
 authenticate ldap "" "" "389" "" "absolute" "3" "" "" "" "" "" "on" "" "" "1.1" "cn=" "" "" "" "" "" "" "" "" "" "" "" "userPassword" "LTPA2" "" "" "" "" "" "off" "" "1.2" "off" "" "off" "32" "off" "32" "off" "off" "" "" "" "" "0" "off" "60" "client" "" "" "" "webagent" "" "" "" "default"
 map-credentials none "" "" ""
 extract-resource  "" "" ""
 map-resource none "" "" "WebSEAL" "" ""
 authorize anyauthenticated "" "" "" "" "" "" "any" "" "" "absolute" "3" "" "" "" "1.1" "" "" "" "member" "" "" "subtree" "(objectClass=*)" "2.0" "deny-biased" "on" "" "" "custom" "" "" "" "off" "" "T" "" "off" "" "r" "" "0" "tfim" "" "off" "on" "off" "off" "60" "client" "" "" "webagent" "" "" "" "default"
 post-process  "off" "" "off" "XS" "" "off" "" "" "" "off" "on" "0" "off" "2.0" "off" "" "" "off" "Digest" "0" "0" "on" "off" "LTPA2" "600" "" "" "" "off" "http://docs.oasis-open.org/wss/oasis-wss-kerberos-token-profile-1.1#GSS_Kerberosv5_AP_REQ" "off" "" "off" "" "off" "" "off" "1000" "off" "all" "CallTFIM" "hmac-sha1" "sha1" "off" "random" "" "0" "off" "off" "off" "off" "" "off" "assertion" "" "wssec-replace" "authentication+attribute" "bearer" "on" "" "" "" "off" "off" "off" "" "0" "AllHTTP" "" "on" "off" "iv-creds" "0" "off" "" "off" "mc-output" "" "" "" "" "as-is-string" "" "" "proxy" "" "" "off" ""
  saml-sign-hash sha1
  saml-sign-alg rsa
  no log-allowed 
  log-allowed-level info
  log-rejected 
  log-rejected-level warn
  no ping-identity-compatibility 
  dos-valve 3
  ldap-version v2
  enforce-actor-role 
  dyn-config none
exit

%endif%

%if% available "idg-mq-qm"

idg-mq-qm "AccTest_MQManager"
  hostname localhost
  ccsid 819
  channel-name "SYSTEM.DEF.SVRCONN"
  heartbeat 300
  maximum-message-size 1048576
  cache-timeout 60
  ffst-size 500
  ffst-rotate 3
  no automatic-backout 
  total-connection-limit 250
  initial-connections 1
  sharing-conversations 1
  no permit-insecure-servers 
  ssl-cipher none
  no auto-recovery 
  convert 
  auto-retry 
  retry-interval 10
  retry-attempts 6
  long-retry-interval 600
  reporting-interval 10
  alternate-user 
  data-path-location temporary
  no enable-watchdog 
  polling-tolerance 10
  active-timeout 120
  restart-rule "86400:1;3600:10;60:100;"
  no debug-mode 
  debug-log-size 500
  debug-log-rotate 3
  xml-manager default
  internal-queue-limit 1024
  outbound-sni Channel
  ocsp-check-extensions 
  ocsp-authentication REQUIRED
  no cdp-check-extensions 
  client-revocation-checks REQUIRED
  error-log-size 33554432
  error-log-rotate 3
  no compatibility-mode 
exit

%endif%

%if% available "idg-mq-qm-group"

idg-mq-qm-group "AccTest_MQManagerGroup"
  primary AccTest_MQManager
exit

%endif%

%if% available "source-ftp-poller"

source-ftp-poller "AccTest_FTPFilePollerSourceProtocolHandler"
  target-dir "ftp://user:password@host:port/path/"
  delay-time 60000
  match-pattern .*
  no success-delete 
  success-rename-pattern $1.processed.ok
  no error-delete 
  error-rename-pattern $0.processed.error
  result 
  result-name-pattern ../result/$1
  processing-seize-timeout 0
  xml-manager default
  max-transfers-per-poll 0
exit

%endif%

%if% available "source-ftp-server"

source-ftp-server "AccTest_FTPServerSourceProtocolHandler"
  address 0.0.0.0
  port 21
  filesystem virtual-ephemeral
  persistent-filesystem-timeout 600
  default-directory "/"
  max-filename-len 256
  require-tls off
  allow-ccc 
  passive allow
  no passive-port-range 
  passive-port-min 1024
  passive-port-max 1050
  passive-idle-timeout 60
  no passive-promiscuous 
  no port-promiscuous 
  no allow-passive-addr 
  no list-cmd 
  no dele-cmd 
  data-encryption allow
  allow-compression 
  no allow-unique-filename 
  no allow-restart 
  restart-timeout 240
  idle-timeout 0
  response-type none
  response-storage temporary
  filesystem-size 32
  ssl-config-type server
exit

%endif%

%if% available "source-https"

source-https "AccTest_HTTPSSourceProtocolHandler"
  local-address 0.0.0.0
  port 443
  http-client-version HTTP/1.1
  allowed-features "HTTP-1.0+HTTP-1.1+POST+PUT+QueryString+FragmentIdentifiers" 
  persistent-connections 
  max-persistent-reuse 0
  no compression 
  no websocket-upgrade 
  websocket-idle-timeout 0
  max-url-len 16384
  max-total-header-len 128000
  max-header-count 0
  max-header-name-len 0
  max-header-value-len 0
  max-querystring-len 0
  credential-charset protocol
  ssl-config-type server
  ssl-server AccTest_SSLServerProfile
  http2-max-streams 100
  http2-max-frame 16384
  no http2-stream-header 
  chunked-encoding 
  header-timeout 30000
  http2-idle-timeout 0
exit

%endif%

%if% available "source-http"

source-http "AccTest_HTTPSourceProtocolHandler"
  local-address 0.0.0.0
  port 8088
  http-client-version HTTP/1.1
  allowed-features "HTTP-1.0+HTTP-1.1+POST+PUT+QueryString+FragmentIdentifiers" 
  persistent-connections 
  max-persistent-reuse 0
  no compression 
  no websocket-upgrade 
  websocket-idle-timeout 0
  max-url-len 16384
  max-total-header-len 128000
  max-header-count 0
  max-header-name-len 0
  max-header-value-len 0
  max-querystring-len 0
  http2-max-streams 100
  http2-max-frame 16384
  no http2-stream-header 
  chunked-encoding 
  header-timeout 30000
  http2-idle-timeout 0
exit

%endif%

%if% available "source-idg-mq"

source-idg-mq "AccTest_MQv9PlusSourceProtocolHandler"
  queue-manager AccTest_MQManager
  get-queue "queue"
  ccsi 0
  get-message-options 1
  no parse-properties 
  no async-put 
  exclude-headers "" 
  concurrent-connections 1
  polling-interval 30
  batch-size 0
  content-type-header None
  no retrieve-backout-settings 
  no use-qm-in-url 
exit

%endif%

%if% available "source-idg-mqmft"

source-idg-mqmft "AccTest_MQv9PlusMFTSourceProtocolHandler"
  queue-manager AccTest_MQManager
  get-queue "queue"
  get-message-options 32769
  concurrent-connections 1
  polling-interval 30
  no retrieve-backout-settings 
  no ignore-backout-errors 
  no use-qm-in-url 
exit

%endif%

%if% available "source-nfs-poller"

source-nfs-poller "AccTest_NFSFilePollerSourceProtocolHandler"
  target-dir "dpnfs://static-mount-name/path/"
  delay-time 60000
  match-pattern .*
  no success-delete 
  success-rename-pattern $1.processed.ok
  no error-delete 
  error-rename-pattern $0.processed.error
  no result 
  processing-seize-timeout 0
  xml-manager default
  max-transfers-per-poll 0
exit

%endif%

%if% available "source-pop-poller"

source-pop-poller "AccTest_POPPollerSourceProtocolHandler"
  mail-server localhost
  port 8888
  connection-security none
  auth-method basic
  account "account"
  password-alias AccTest_PasswordAlias
  delay-time 300
  max-messages-per-poll 5
  ssl-client-type client
exit

%endif%

%if% available "source-raw"

source-raw "AccTest_StatelessTCPSourceProtocolHandler"
  local-address 0.0.0.0
  port 4000
  persistent-connections 
  ssl-config-type server
  trim-whitespace 
exit

%endif%

%if% available "source-ssh-server"

source-ssh-server "AccTest_SSHServerSourceProtocolHandler"
  address 0.0.0.0
  port 22
  user-auth "publickey+password" 
  allow-backend-listings 
  no allow-backend-delete 
  no allow-backend-stat 
  no allow-backend-mkdir 
  no allow-backend-rmdir 
  no allow-backend-rename 
  filesystem transparent
  default-directory "/"
  idle-timeout 0
  persistent-filesystem-timeout 600
exit

%endif%

%if% available "source-sftp-poller"

source-sftp-poller "AccTest_SFTPFilePollerSourceProtocolHandler"
  target-dir "/"
  delay-time 60000
  match-pattern .*
  no success-delete 
  success-rename-pattern $1.processed.ok
  no error-delete 
  error-rename-pattern $0.processed.error
  no result 
  processing-seize-timeout 0
  xml-manager default
  max-transfers-per-poll 0
  ssh-client-connection AccTest_SSHClientProfile
exit

%endif%

%if% available "wsrr-server"

wsrr-server "AccTest_WSRRServer"
  soap-url "https://host:9443/WSRRCoreSDO/services/WSRRCoreSDOPort"
  ssl-client-type client
exit

%endif%

%if% available "wsrr-subscription"

wsrr-subscription "AccTest_WSRRSubscription"
  server AccTest_WSRRServer
  namespace "namespace"
  object-type wsdl
  object-name "ResTestobject"
  method poll
  refresh-interval 86400
  auto-renew-interval 1
  no use-version 
  no fetch-policy-attachments 
exit

%endif%

%if% available "wsrr-saved-search-subscription"

wsrr-saved-search-subscription "AccTest_WSRRSavedSearchSubscription"
  no params
  server AccTest_WSRRServer
  saved-search-name "ResTestsaved_search"
  method poll
  refresh-interval 86400
  auto-renew-interval 1
  no fetch-policy-attachments 
exit

%endif%

%if% available "wsm-endpointrewrite"

wsm-endpointrewrite "AccTest_WSEndpointRewritePolicy"
exit

%endif%

%if% available "webapp-response-profile"

webapp-response-profile "AccTest_WebAppResponse"
  policy-type admission
  response-codes "HTTP-100+HTTP-200+HTTP-201+HTTP-202+HTTP-204+HTTP-206+HTTP-301+HTTP-302+HTTP-304+HTTP-307" 
  response-versions "HTTP-1.0+HTTP-1.1" 
  response-body-min 0
  response-body-max 128000000
  response-content-type .*
  response-xml-policy nothing
  response-nonxml-policy nothing
exit

%endif%

%if% available "webapp-request-profile"

webapp-request-profile "AccTest_WebAppRequest"
  policy-type admission
  request-ssl-policy allow
  request-methods "POST+GET+HEAD" 
  request-versions "HTTP-1.0+HTTP-1.1" 
  request-body-min 0
  request-body-max 128000000
  request-xml-policy nothing
  request-nonxml-policy nothing
  request-qs-policy allow
  no request-sql-policy 
  request-uri-max 1024
  request-uri-filter-unicode 
  request-uri-filter-dotdot 
  request-uri-filter-exe 
  request-uri-filter-fragment truncate
  request-content-type application/www-url-encoded
  multipart-form-data "4" "5000000" "5000000" "off"
  cookie-policy "allow" "none" "secret" "on" "" "off"
  process-all-cookie 
  sql-injection-patterns-file store:///SQL-Injection-Patterns.xml
exit

%endif%

%if% available "application-security-policy"

application-security-policy "AccTest_AppSecurityPolicy"
  request-match "__default-accept-service-providers__" "AccTest_WebAppRequest"
  response-match "__default-accept-service-providers__" "AccTest_WebAppResponse"
exit

%endif%

%if% available "wsm-stylepolicy"

wsm-stylepolicy "AccTest_WSStylePolicy"
  filter "store:///filter-reject-all.xsl"
  xsldefault "store:///identity.xsl"
exit

wsm-stylepolicy "default"
  summary "Default Processing Policy"
  filter "store:///filter-reject-all.xsl"
  xsldefault "store:///identity.xsl"
exit

%endif%

%if% available "amqp-broker"

amqp-broker "AccTest_AMQPBroker"
  hostname host.name
  port 5672
  xml-manager default
  authorization none
  maximum-frame-size 104857600
  auto-retry 
  retry-interval 10
  retry-attempts 6
  long-retry-interval 600
  reporting-interval 10
exit

%endif%

%if% available "api-application-type"

api-application-type "AccTest_APIApplicationType"
exit

%endif%

%if% available "gateway-peering"

gateway-peering "default-gateway-peering"
  admin-state disabled
  local-address 0.0.0.0
  local-port 16380
  primary-count 1
  monitor-port 26380
  cluster-auto-config 
  no enable-peer-group 
  priority 100
  enable-ssl 
  persistence memory
  local-directory local:///
  log-level nothing
  max-memory 0
  status-file-max-size 100
  status-file-max-rotation 100
exit

%endif%

%if% available "gateway-peering-manager"

gateway-peering-manager
  admin-state disabled
  apic-gw-service default-gateway-peering
  rate-limit default-gateway-peering
  subscription default-gateway-peering
  apiprobe default-gateway-peering
  ratelimit-module default-gateway-peering
exit

%endif%

crypto
  fwcred "AccTest_CryptoFWCred"
    key "AccTest_CryptoKey"
  exit
exit

%if% available "service-monitor"

service-monitor "AccTest_WebServiceMonitor"
  wsdl "wsdlurl"
  endpoint-url "endpointurl"
  frontend-url "frontendurl"
exit

%endif%

%if% available "xmlfirewall"

xmlfirewall "AccTest_XMLFirewallService"
  local-address "0.0.0.0" "7575"
  priority normal
  default-param-namespace "http://www.datapower.com/param/config"
  query-param-namespace "http://www.datapower.com/param/query"
  no force-policy-exec 
  monitor-processing-policy terminate-at-first-throttle
  debugger-type internal
  debug-history 25
  remote-address %dynamic%
  xml-manager default
  stylesheet-policy default
  max-message-size 0
  request-type soap
  response-type soap
  request-attachments strip
  response-attachments strip
  root-part-not-first-action process-in-order
  front-attachment-format dynamic
  back-attachment-format dynamic
  mime-headers 
  rewrite-errors
  delay-errors 
  delay-errors-duration 1000
  soap-schema-url "store:///schemas/soap-envelope.xsd"
  wsdl-response-policy off
  no firewall-parser-limits 
  bytes-scanned 4194304
  element-depth 512
  attribute-count 128
  max-node-size 33554432
  forbid-external-references 
  max-prefixes 1024
  max-namespaces 1024
  max-local-names 60000
  attachment-byte-count 2000000000
  attachment-package-byte-count 0
  external-references forbid
  credential-charset protocol
  ssl-config-type server
exit

http "AccTest_XMLFirewallService" xmlfirewall
  http-timeout 120
  persistent-timeout 180
  host-rewriting "on"
  no silence-warning 
  no compression 
  no include-response-type-encoding
  no always-show-errors
  no disallow-get
  no disallow-empty-reply
  persistent-connections 
  client-address "X-Client-IP"
  http-global-tranID-label "X-Global-Transaction-ID"
  httpproxy-port 800
  version "HTTP/1.1" "HTTP/1.1"
  no chunked-uploads 
exit

%endif%

%if% available "mpgw-error-action"

mpgw-error-action "AccTest_MPGWErrorAction"
  type static
  local-url store:///schemas/XMLSchema.dtd
exit

%endif%

%if% available "mpgw-error-handling"

mpgw-error-handling "AccTest_MPGWErrorHandlingPolicy"
  match "__default-accept-service-providers__" "AccTest_MPGWErrorAction"
exit

%endif%

%if% available "otel-exporter"

otel-exporter "AccTest_OpenTelemetryExporter"
  type http
  hostname localhost
  traces-path "/v1/traces"
  metrics-path "/v1/metrics"
  logs-path "/v1/logs"
  port 4318
  http-content-type json
  timeout 10
  processor batch
  max-queue-size 2048
  max-export-size 512
  export-delay-interval 5000
  compression none
exit

%endif%

%if% available "otel-sampler"

otel-sampler "AccTest_OpenTelemetrySampler"
  parent-based 
  type always-on
exit

%endif%

%if% available "otel"

otel "AccTest_OpenTelemetry"
  exporter AccTest_OpenTelemetryExporter
  sampler AccTest_OpenTelemetrySampler
exit

%endif%

%if% available "mcf-customrule"

mcf-customrule "AccTest_MCFCustomRule"
  rulename __dp-policy-begin__
  value "rulevalue"
exit

%endif%

%if% available "mcf-httpheader"

mcf-httpheader "AccTest_MCFHttpHeader"
  location "HEADERNAME"
  value "HEADERVALUE"
exit

%endif%

%if% available "mcf-httpmethod"

mcf-httpmethod "AccTest_MCFHttpMethod"
  value GET
exit

%endif%

%if% available "mcf-httpurl"

mcf-httpurl "AccTest_MCFHttpURL"
  value "*"
exit

%endif%

%if% available "mcf-xpath"

mcf-xpath "AccTest_MCFXPath"
  location "*"
  value "value"
exit

%endif%

mcfilters "AccTest_MessageContentFilters"
exit

%if% available "policy-attachments"

policy-attachments "AccTest_PolicyAttachments"
  enforcement-mode enforce
  no policy-references 
  sla-enforcement-mode allow-if-no-sla
exit

%endif%

%if% available "policy-parameters"

policy-parameters "AccTest_PolicyParameters"
exit

%endif%

%if% available "source-amqp"

source-amqp "AccTest_AMQPSourceProtocolHandler"
  broker AccTest_AMQPBroker
  from "amqpfrom"
  maximum-message-size 0
  credit 100
  ignore-reply-to 
exit

%endif%

%if% available "source-as2"

source-as2 "AccTest_AS2SourceProtocolHandler"
  local-address 0.0.0.0
  port 80
  http-client-version HTTP/1.1
  persistent-connections 
  no compression 
  max-url-len 16384
  max-total-header-len 128000
  max-header-count 0
  max-header-name-len 0
  max-header-value-len 0
  credential-charset protocol
  ssl-config-type server
exit

%endif%

%if% available "source-as3"

source-as3 "AccTest_AS3SourceProtocolHandler"
  address 0.0.0.0
  port 21
  filesystem virtual-ephemeral
  persistent-filesystem-timeout 600
  default-directory "/"
  max-filename-len 256
  require-tls off
  allow-ccc 
  passive allow
  no passive-port-range 
  passive-port-min 1024
  passive-port-max 1050
  passive-idle-timeout 60
  no passive-promiscuous 
  no port-promiscuous 
  no allow-passive-addr 
  no list-cmd 
  no dele-cmd 
  data-encryption allow
  allow-compression 
  no allow-unique-filename 
  no allow-restart 
  restart-timeout 240
  idle-timeout 0
  ssl-config-type server
exit

%endif%

%if% available "source-ebms2"

source-ebms2 "AccTest_EBMS2SourceProtocolHandler"
  local-address 0.0.0.0
  port 80
  http-client-version HTTP/1.1
  persistent-connections 
  no compression 
  max-url-len 16384
  max-total-header-len 128000
  max-header-count 0
  max-header-name-len 0
  max-header-value-len 0
  max-querystring-len 0
  credential-charset protocol
  ssl-config-type server
exit

%endif%

%if% available "source-ebms3"

source-ebms3 "AccTest_EBMS3SourceProtocolHandler"
  local-address 0.0.0.0
  port 80
  http-client-version HTTP/1.1
  persistent-connections 
  no compression 
  max-url-len 16384
  max-total-header-len 128000
  max-header-count 0
  max-header-name-len 0
  max-header-value-len 0
  max-querystring-len 0
  credential-charset protocol
  ssl-config-type server
exit

%endif%

%if% available "source-as1-poller"

source-as1-poller "AccTest_AS1PollerSourceProtocolHandler"
  mail-server smtp.host
  port 25
  connection-security none
  auth-method basic
  account "account"
  password-alias AccTest_PasswordAlias
  delay-time 300
  max-messages-per-poll 5
  ssl-client-type client
exit

%endif%

%if% available "source-stateful-tcp"

source-stateful-tcp "AccTest_XTCProtocolHandler"
  local-address 0.0.0.0
  port 3000
  remote-address 10.10.10.10
  remote-port 12000
  no close-on-fault 
  ssl-config-type server
exit

%endif%

%if% available "mpgw"

mpgw "AccTest_MultiProtocolGateway"
  no policy-parameters
  priority normal
  xml-manager default
  ssl-client-type client
  default-param-namespace "http://www.datapower.com/param/config"
  query-param-namespace "http://www.datapower.com/param/query"
  propagate-uri 
  monitor-processing-policy terminate-at-first-throttle
  request-attachments strip
  response-attachments strip
  no request-attachments-flow-control 
  no response-attachments-flow-control 
  root-part-not-first-action process-in-order
  front-attachment-format dynamic
  back-attachment-format dynamic
  mime-front-headers 
  mime-back-headers 
  stream-output-to-back buffer-until-verification
  stream-output-to-front buffer-until-verification
  max-message-size 0
  no gateway-parser-limits 
  element-depth 512
  attribute-count 128
  max-node-size 33554432
  forbid-external-references 
  external-references forbid
  max-prefixes 1024
  max-namespaces 1024
  max-local-names 60000
  attachment-byte-count 2000000000
  attachment-package-byte-count 0
  debugger-type internal
  debug-history 25
  no flowcontrol 
  soap-schema-url "store:///schemas/soap-envelope.xsd"
  front-timeout 120
  back-timeout 120
  front-persistent-timeout 180
  back-persistent-timeout 180
  no include-content-type-encoding 
  persistent-connections 
  no loop-detection 
  host-rewriting 
  no chunked-uploads 
  process-http-errors 
  http-client-ip-label "X-Client-IP"
  http-global-tranID-label "X-Global-Transaction-ID"
  inorder-mode "" 
  wsa-mode sync2sync
  wsa-require-aaa 
  wsa-strip-headers 
  wsa-default-replyto "http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous"
  wsa-default-faultto "http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous"
  no wsa-force 
  wsa-genstyle sync
  wsa-http-async-response-code 204
  wsa-timeout 120
  no wsrm 
  wsrm-sequence-expiration 3600
  wsrm-destination-accept-create-sequence 
  wsrm-destination-maximum-sequences 400
  no wsrm-destination-inorder 
  wsrm-destination-maximum-inorder-queue-length 10
  no wsrm-destination-accept-offers 
  no wsrm-request-force 
  no wsrm-response-force 
  no wsrm-source-request-create-sequence 
  no wsrm-source-response-create-sequence 
  no wsrm-source-make-offer 
  no wsrm-source-sequence-ssl 
  wsrm-source-maximum-sequences 400
  wsrm-source-retransmission-interval 10
  wsrm-source-exponential-backoff 
  wsrm-source-retransmit-count 4
  wsrm-source-maximum-queue-length 30
  wsrm-source-request-ack-count 1
  wsrm-source-inactivity-close-interval 360
  no force-policy-exec 
  rewrite-errors 
  delay-errors 
  delay-errors-duration 1000
  http-server-version HTTP/1.1
  no http2-required 
  request-type soap
  response-type soap
  follow-redirects 
  no rewrite-location-header 
  stylepolicy default
  type static-backend
  no compression 
  no enable-compressed-payload-passthrough 
  no allow-cache-control 
  no wsmagent-monitor 
  wsmagent-monitor-capture-mode all-messages
  no proxy-http-response 
  transaction-timeout 0
exit

%endif%

no statistics

%if% available "apic-gw-service"

apic-gw-service
  admin-state disabled
  local-address 0.0.0.0
  local-port 3000
  api-gw-address 0.0.0.0
  api-gw-port 9443
  gateway-peering default-gateway-peering
  gateway-peering-manager default
  v5-compatibility-mode 
  slm-mode autounicast
  no database-mode 
  no log-strip-non-ascii 
  jwt-validate-mode request
  proxy "off" "" "0" "" ""
exit

%endif%

%if% available "api-sec-apikey"

api-sec-apikey "AccTest_APISecurityAPIKey"
  where header
  type id
  key-name "keyname"
exit

%endif%

%if% available "api-sec-http-scheme"

api-sec-http-scheme "AccTest_APISecurityHTTPScheme"
exit

%endif%

%if% available "api-sec-oauth"

api-sec-oauth "AccTest_APISecurityOAuth"
  oauth-provider AccTest_OAuthProviderSettings
  oauth-flow implicit
exit

%endif%

%if% available "api-sec-oauth-req"

api-sec-oauth-req "AccTest_APISecurityOAuthReq"
  oauth-definition AccTest_APISecurityOAuth
exit

%endif%

%if% available "api-sec-req"

api-sec-req "AccTest_APISecurityRequirement"
  security AccTest_APISecurityAPIKey
exit

%endif%

%if% available "api-operation"

api-operation "AccTest_APIOperation"
  method GET
  no remove-consume 
  no remove-security 
exit

%endif%

%if% available "api-path"

api-path "AccTest_APIPath"
  path "/"
exit

%endif%

%if% available "cors-rule"

cors-rule "AccTest_CORSRule"
  allow-origin "origin"
  no allow-credentials 
  expose-headers
    predefined 
    no backend 
  exit
exit

%endif%

%if% available "cors-policy"

cors-policy "AccTest_CORSPolicy"
  rule AccTest_CORSRule
exit

%endif%

%if% available "api-definition"

api-definition "AccTest_APIDefinition"
  version "1.0.0"
  base-path "/"
  type standard
  path AccTest_APIPath
  no require-api-mutual-tls 
  api-mutual-tls-header-name "X-Client-Certificate"
  no cors 
  no activity-log 
  success-content activity
  error-content payload
  no message-buffering 
  deployment-state running
  share-count unset
  no return-v5-responses 
  no copy-id-headers-to-message 
  enforce-required-params 
  allow-chunked-uploads 
  no set-v5-request-headers 
  no get-raw-body-value 
  allowed-api-protocols "http+https+ws+wss" 
  no allow-trailing-slash 
  no enforce-all-headers-case-insensitive 
  enforce-form-data-parameter 
  no force-http-500-for-soap11 
  skip-parameter-validation "default"
exit

%endif%

%if% available "visibility-list"

visibility-list "AccTest_VisibilityList"
  type remove
exit

%endif%

%if% available "graphql-schema-options"

graphql-schema-options "AccTest_GraphQLSchemaOptions"
  api AccTest_APIDefinition
exit

%endif%

%if% available "rate-limit-definition"

rate-limit-definition "AccTest_RateLimitDefinition"
  type rate
  rate 1000
  interval 1
  unit minute
  hard-limit 
  is-client 
  no use-api-name 
  no use-app-id 
  no use-client-id 
  auto-replenish 
  weight "1"
  response-headers 
  no emulate-burst-headers 
  use-interval-offset 
  allow-cache-fallback 
  no use-cache 
exit

%endif%

%if% available "rate-limit-definition-group"

rate-limit-definition-group "AccTest_RateLimitDefinitionGroup"
  update-on-exceed all
exit

%endif%

%if% available "api-operation-rate-limit"

api-operation-rate-limit "AccTest_OperationRateLimit"
  operation AccTest_APIOperation
  no use-rate-limit-group 
  rate-limit "RateLimit" "1000" "1" "second" "off" "on" "on" "off" "off" "off" "" "1"
exit

%endif%

%if% available "api-plan"

api-plan "AccTest_APIPlan"
  product-version "1.0.0"
  no use-rate-limit-group 
  no use-definitions 
  api AccTest_APIDefinition
  rate-limit-scope per-application
exit

%endif%

analytics-endpoint "AccTest_AnalyticsEndpoint"
  analytics-server-url "https://localhost"
  ssl-client AccTest_SSLClientProfile
  max-records 1024
  max-record-size 512
  max-delivery-size 512
  index-root "apic_log"
  index-suffix "-%{+YYYY.MM}"
  primary-shards 5
  replica-shards 1
  interval 600
  delivery-connections 1
  no enable-jwt 
  persistent-connection 
  timeout 90
  persistent-timeout 60
exit

%if% available "api-collection"

api-collection "AccTest_APICollection"
  no sandbox 
  organization-id "orgid"
  organization-name "orgname"
  catalog-id "default-catalog-id"
  catalog-name "default"
  no full-custom 
  cache-capacity 128
  routing-prefix "host" ""
  no use-rate-limit-group 
  enforce-pre-assembly-rate-limits 
  processing-rule default-api-rule
  error-rule default-api-error-rule
  assembly-preprocessing default-preflow
  plan AccTest_APIPlan
exit

%endif%

%if% available "apiprobe-settings"

apiprobe-settings
  admin-state disabled
  max-records 1000
  expiration 60
  gateway-peering default-gateway-peering
exit

%endif%

apigw "AccTest_APIGateway"
  front-protocol AccTest_HTTPSourceProtocolHandler
  xsl-cache-memorysize 2147483647
  xsl-cache-size 256
  xsl-checksummed-cache 
  static-document-calls 
  maxdocs 5000
  size 0
  max-writes 32768
  share-count yes
  front-timeout 120
  front-persistent-timeout 180
  no service-ready 
  skip-parameter-validation "default"
  no force-buffering-in-routing 
exit

%if% available "api-security-token-manager"

api-security-token-manager
  admin-state disabled
  gateway-peering default-gateway-peering
  expired-token-cleanup-interval 180
exit

%endif%

%if% available "soap-disposition"

soap-disposition "AccTest_SOAPHeaderDisposition"
exit

%endif%

%if% available "b2b-cpa"

b2b-cpa "AccTest_B2BCPA"
  cpa-id "cpaid"
exit

%endif%

%if% available "cpa-receiver-setting"

cpa-receiver-setting "AccTest_B2BCPAReceiverSetting"
  syncreply-mode none
  ack-requested perMessage
  ack-signature-requested perMessage
  allow-dup-msg never
  persist-duration 0
  no encrypt-required 
  no sign-required 
exit

%endif%

%if% available "cpa-sender-setting"

cpa-sender-setting "AccTest_B2BCPASenderSetting"
  enabled-doc-type "EnableXML+EnableX12+EnableEDIFACT+EnableBinary" 
  dest-url "ebms2://somehost/url"
  timeout 300
  syncreply-mode none
  duplicate-elimination always
  ack-requested never
  ack-signature-requested never
  no retry 
  max-retries 3
  retry-interval 1800
  persist-duration 0
  include-time-to-live 
  no encrypt-required 
  encrypt-algorithm http://www.w3.org/2001/04/xmlenc#tripledes-cbc
  no sign-required 
  sign-algorithm rsa-sha1
  sign-digest-algorithm sha1
  sign-c14n-algorithm exc-c14n
  ssl-client-type client
exit

%endif%

%if% available "b2b-cpa-collaboration"

b2b-cpa-collaboration "AccTest_B2BCPACollaboration"
  internal-role "internal"
  external-role "external"
  service "service"
  action
    name "cpacollaborationactionname"
    value "value"
    capability cansend
    sender-setting AccTest_B2BCPASenderSetting
  exit
exit

%endif%

%if% available "smtp-server-connection"

smtp-server-connection "AccTest_SMTPServerConnection"
  server-host localhost
  server-port 25
  options "" 
  auth plain
  ssl-client-type client
exit

smtp-server-connection "default"
  summary "Default SMTP Server Connection"
  server-host smtp
  server-port 25
  auth plain
  ssl-client-type proxy
exit

%endif%

%if% available "b2b-profile"

b2b-profile "AccTest_B2BProfile"
  profile-type internal
  business-id "businessid"
  response-type preprocessed
  destination
    name "b2bdestinationname"
    dest-url "https://localhost"
    enabled-doc-type "EnableXML+EnableX12+EnableEDIFACT+EnableBinary" 
    smtp-server-connection default
    no use-unique-filenames 
    timeout 300
    no enable-ftp-settings 
    embs-mpc-auth-method username-token
    ftp-passive pasv-req
    ftp-auth-tls auth-off
    ftp-use-ccc ccc-off
    ftp-encrypt-data enc-data-off
    ftp-data-type binary
    ftp-slash-stou slash-stou-on
    ftp-size-check size-check-optional
    binary-transfer-mode auto-detect
    no as-compress 
    no as-compress-before-sign 
    no as-send-unsigned 
    no as-encrypt 
    no as-mdn-request 
    no as-mdn-request-async 
    no as-mdn-request-signed 
    no retransmit 
    ack-time 1800
    max-resends 3
    as-encrypt-alg 3des
    as-mdn-request-signed-algs "sha1,md5"
    no ebms-send-unsigned 
    no ebms-encrypt 
    ebms-encrypt-alg http://www.w3.org/2001/04/xmlenc#tripledes-cbc
    ebms-key-encrypt-alg http://www.w3.org/2001/04/xmlenc#rsa-1_5
    ebms-duplicate-elimination-request 
    no ebms-ack-request 
    no ebms-ack-request-signed 
    ebms-syncreply-mode none
    no ebms-retry 
    ebms-max-retries 3
    ebms-retry-interval 1800
    ebms-include-time-to-live 
    ssl-client-type client
    ssl-client AccTest_SSLClientProfile
    ebms-mep one-way-push
    no ebms-outbound-request-receipt 
    no ebms-outbound-request-signed-receipt 
    ebms-outbound-receipt-reply-pattern Response
    no ebms-reception-awareness-notification 
    ebms-reception-awareness-timeout 300
    no ebms-compress 
    no ebms-soapbody 
  exit
  no require-signed 
  no require-encrypted 
  no sign 
  sign-digest-alg sha1
  as-allow-dup-msg never
  no preserve-filename 
  ebms-persist-duration 0
  no ebms-inbound-send-receipt 
  no ebms-inbound-send-signed-receipt 
  ebms-inbound-receipt-reply-pattern Response
  no ebms-require-signed 
  no ebms-require-encrypted 
  no ebms-sign 
  ebms-signature-alg dsa-sha1
  ebms-signature-c14n-alg c14n
  ebms-sign-digest-alg sha1
  no ebms-enable-cpa-bindings 
  no ebms-start-parameter 
  ebms-allow-dup-msg never
  mdn-ssl-client-type client
  ebmsack-ssl-client-type client
  no ebms3-sign 
  ebms3-sign-digest-alg sha1
  ebms3-signature-alg rsa-sha1
  no ebms3-require-signed 
  no ebms3-require-encrypted 
  no ebms3-require-compressed 
  ebms3-receipt-ssl-client-type client
  no ebms-notification 
  ebms-notification-ssl-client-type client
  ebms3-allow-dup-msg never
  no ebms3-duplicate-detection-notification 
exit

%endif%

%if% available "b2b-profile-group"

b2b-profile-group "AccTest_B2BProfileGroup"
  b2b-profiles
    profile AccTest_B2BProfile
  exit
exit

%endif%

%if% available "b2b-xpath-routing"

b2b-xpath-routing "AccTest_B2BXPathRoutingPolicy"
  sender-xpath "senderpath"
  receiver-xpath "senderpath"
exit

%endif%

%if% available "b2bgw"

b2bgw "AccTest_B2BGateway"
  priority normal
  doc-location (default)
  b2b-profile
    profile AccTest_B2BProfile
    enabled 
    destination "default"
  exit
  document-routing-preprocessor-type stylesheet
  document-routing-preprocessor "store:///b2b-routing.xsl"
  arch-mode purgeonly
  arch-minimum-size 1024
  arch-document-age 90
  arch-minimum-documents 100
  diskuse-check-interval 60
  max-diskuse 25165824
  arch-monitor 
  arch-shaping-threshold 200
  arch-backup-documents "InMessage+OutMessage+InMDN+OutMDN+EBMSInMessage+EBMSOutMessage+EBMSInACK+EBMSOutACK+EBMS3InMessage+EBMS3OutMessage+EBMS3InRCPT+EBMS3OutRCPT" 
  xml-manager default
  debugger-type internal
  debug-history 25
  front-side-timeout 120
exit

%endif%

%if% available "compile-settings"

compile-settings "AccTest_CompileSettings"
  xslt-version XSLT10
  strict 
  no profile 
  no debug 
  no stream 
  no try-stream 
  no minesc 
  stack-size 1048576
  wsi-validate warn
  wsdl-validate-body strict
  wsdl-validate-headers lax
  wsdl-validate-faults strict
  no wsdl-wrapped-faults 
  no allow-soap-enc-array 
  no validate-soap-enc-array 
  no wildcards-ignore-xsi-type 
  no wsdl-strict-soap-version 
  no xacml-debug 
  no allow-xop-include 
exit

%endif%

%if% available "deployment-policy"

deployment-policy "AccTest_ConfigDeploymentPolicy"
exit

%endif%

%if% available "config-sequence"

config-sequence "AccTest_ConfigSequence"
  match-pattern (.*)\\\\.cfg$
  result-name-pattern $1.log
  status-name-pattern $1.status
  watch 
  no use-output-location 
  output-location logtemp:///
  delete-unused 
  run-sequence-interval 100
  max-log-file-size 1024
  mark-objects-external 
  no delete-config 
  output-cleanup-interval 0
  serialize-deferred-processing 
  no optimize-for-apic 
  always-run-config 
  no monitor-persistence 
  batching 
  no gitops-mode 
exit

%endif%

%if% available "conformancepolicy"

conformancepolicy "AccTest_ConformancePolicy"
  profiles "BP11+AP10+BSP10" 
  no assert-bp10-conformance 
  report-level never
  reject-level never
  no reject-include-summary 
  no result-is-conformance-report 
  no response-properties-enabled 
  response-report-level never
  response-reject-level never
  no response-reject-include-summary 
exit

%endif%

crypto
  
%if% available "kerberos-kdc"

kerberos-kdc "AccTest_CryptoKerberosKDC"
  realm "realm"
  server localhost
  no tcp 
  port 88
  udp-timeout 5
  cache-tickets 
  max-cached-tickets 32
  min-cached-ticket-validity 60
exit

%endif%

exit

crypto
  
%if% available "sshdomainclientprofile"

sshdomainclientprofile
  no ciphers
  no kex-alg
  no mac-alg
  admin-state enabled
  ciphers AES128-CTR
  ciphers AES192-CTR
  ciphers AES256-CTR
  ciphers AES128-GCM_AT_OPENSSH.COM
  ciphers AES256-GCM_AT_OPENSSH.COM
  kex-alg CURVE25519-SHA256_AT_LIBSSH.ORG
  kex-alg ECDH-SHA2-NISTP256
  kex-alg ECDH-SHA2-NISTP384
  kex-alg ECDH-SHA2-NISTP521
  kex-alg DIFFIE-HELLMAN-GROUP-EXCHANGE-SHA256
  mac-alg UMAC-64_AT_OPENSSH.COM
  mac-alg UMAC-128_AT_OPENSSH.COM
  mac-alg HMAC-SHA2-256
  mac-alg HMAC-SHA2-512
  mac-alg HMAC-SHA1
  enable-legacy-kex no
exit

%endif%

exit

crypto
  
%if% available "sshserverprofile"

sshserverprofile
  no ciphers
  no kex-alg
  no mac-alg
  admin-state enabled
  ciphers AES128-CTR
  ciphers AES192-CTR
  ciphers AES256-CTR
  ciphers AES128-GCM_AT_OPENSSH.COM
  ciphers AES256-GCM_AT_OPENSSH.COM
  kex-alg CURVE25519-SHA256_AT_LIBSSH.ORG
  kex-alg ECDH-SHA2-NISTP256
  kex-alg ECDH-SHA2-NISTP384
  kex-alg ECDH-SHA2-NISTP521
  kex-alg DIFFIE-HELLMAN-GROUP-EXCHANGE-SHA256
  mac-alg UMAC-64-ETM_AT_OPENSSH.COM
  mac-alg UMAC-128-ETM_AT_OPENSSH.COM
  mac-alg HMAC-SHA2-256
  mac-alg HMAC-SHA2-512
  mac-alg HMAC-SHA1
  enable-legacy-kex no
  send-preauth-msg no
  host-key-alg "" 
exit

%endif%

exit

%if% available "deployment-policy-variables"

deployment-policy-variables "AccTest_DeploymentPolicyParametersBinding"
exit

%endif%

%if% available "distributed-variable-settings"

distributed-variable-settings
  admin-state disabled
  gateway-peering default-gateway-peering
exit

%endif%

%if% available "wsgw"

wsgw "AccTest_WSGateway"
  no policy-parameters
  priority normal
  xml-manager default
  ssl-client-type client
  default-param-namespace "http://www.datapower.com/param/config"
  query-param-namespace "http://www.datapower.com/param/query"
  propagate-uri 
  monitor-processing-policy terminate-at-first-throttle
  request-attachments strip
  response-attachments strip
  no request-attachments-flow-control 
  no response-attachments-flow-control 
  root-part-not-first-action process-in-order
  front-attachment-format dynamic
  back-attachment-format dynamic
  mime-front-headers 
  mime-back-headers 
  stream-output-to-back buffer-until-verification
  stream-output-to-front buffer-until-verification
  max-message-size 0
  no gateway-parser-limits 
  element-depth 512
  attribute-count 128
  max-node-size 33554432
  forbid-external-references 
  external-references forbid
  max-prefixes 1024
  max-namespaces 1024
  max-local-names 60000
  attachment-byte-count 2000000000
  attachment-package-byte-count 0
  debugger-type internal
  debug-history 25
  no flowcontrol 
  soap-schema-url "store:///schemas/soap-envelope.xsd"
  front-timeout 120
  back-timeout 120
  front-persistent-timeout 180
  back-persistent-timeout 180
  no include-content-type-encoding 
  persistent-connections 
  no loop-detection 
  host-rewriting 
  no chunked-uploads 
  process-http-errors 
  http-client-ip-label "X-Client-IP"
  http-global-tranID-label "X-Global-Transaction-ID"
  inorder-mode "" 
  wsa-mode sync2sync
  wsa-require-aaa 
  wsa-strip-headers 
  wsa-default-replyto "http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous"
  wsa-default-faultto "http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous"
  no wsa-force 
  wsa-genstyle sync
  wsa-http-async-response-code 204
  wsa-timeout 120
  no wsrm 
  wsrm-sequence-expiration 3600
  wsrm-destination-accept-create-sequence 
  wsrm-destination-maximum-sequences 400
  no wsrm-destination-inorder 
  wsrm-destination-maximum-inorder-queue-length 10
  no wsrm-destination-accept-offers 
  no wsrm-request-force 
  no wsrm-response-force 
  no wsrm-source-request-create-sequence 
  no wsrm-source-response-create-sequence 
  no wsrm-source-make-offer 
  no wsrm-source-sequence-ssl 
  wsrm-source-maximum-sequences 400
  wsrm-source-retransmission-interval 10
  wsrm-source-exponential-backoff 
  wsrm-source-retransmit-count 4
  wsrm-source-maximum-queue-length 30
  wsrm-source-request-ack-count 1
  wsrm-source-inactivity-close-interval 360
  no force-policy-exec 
  rewrite-errors 
  delay-errors 
  delay-errors-duration 1000
  http-server-version HTTP/1.1
  request-type soap
  response-type soap
  follow-redirects 
  no compression 
  no enable-compressed-payload-passthrough 
  type static-from-wsdl
  no autocreate-sources 
  ssl-config-type server
  stylepolicy default
  remote-retry
    no auto-retry 
    retry-interval 1
    reporting-interval 1
    total-retries 1
  exit
  wssec11-enckey-cache 0
  no preserve-key-chain 
  no decrypt-with-key-from-ed 
  soap-action-policy lax
  wsmagent-monitor 
  wsmagent-monitor-capture-mode all-messages
  no process-response-rule-for-oneway-wsdls 
exit

%endif%

%if% available "domain-availability"

domain-availability
  admin-state disabled
exit

%endif%

%if% available "gitops"

gitops
  admin-state disabled
  type https
  mode read-write
  commit-id-type branch
  commit-id "main"
  location "https://github.com/ScottW514/terraform-provider-datapower"
  interval 5
  username "gitusername"
  password AccTest_PasswordAlias
  https-valcred AccTest_CryptoValCred
  name "Git User"
  email "git@user.domain"
exit

%endif%

%if% available "gitops-template"

gitops-template "AccTest_GitOpsTemplate"
exit

%endif%

%if% available "mtom"

mtom "AccTest_MTOMPolicy"
  mode encode
  include-content-type 
exit

%endif%

%if% available "nfs-dynamic-mounts"

nfs-dynamic-mounts
  admin-state disabled
  version 3
  transport tcp
  mount-type hard
  no read-only 
  rsize 4096
  wsize 4096
  timeo 7
  retrans 3
  inactivity-timeout 900
  mount-timeout 30
exit

%endif%

%if% available "peer-group"

peer-group "AccTest_PeerGroup"
  type slm
  url "http://localhost"
  update-interval 10
exit

%endif%

%if% available "probe-settings"

probe-settings
  admin-state disabled
  max-records 1000
  expiration 3600
  gateway-peering default-gateway-peering
exit

%endif%

%if% available "rate-limit-config"

rate-limit-config
  admin-state enabled
  gateway-peering-manager default
exit

%endif%

%if% available "slm-action"

slm-action "AccTest_SLMAction"
  type log-only
  log-priority debug
exit

slm-action "notify"
  type log-only
  log-priority warn
exit

slm-action "shape"
  type shape
  log-priority debug
exit

slm-action "throttle"
  type reject
  log-priority debug
exit

%endif%

%if% available "slm-cred"

slm-cred "AccTest_SLMCredClass"
  type aaa-mapped-credential
  match-type per-extracted-value
exit

%endif%

%if% available "slm-rsrc"

slm-rsrc "AccTest_SLMRsrcClass"
  type aaa-mapped-resource
  match-type per-extracted-value
exit

%endif%

%if% available "slm-sched"

slm-sched "AccTest_SLMSchedule"
  days "" 
  start 12:34:00
  duration 1440
  timezone LOCAL
exit

%endif%

%if% available "slm-policy"

slm-policy "AccTest_SLMPolicy"
  eval-method execute-all-statements
  no api-mgmt 
exit

%endif%

xslproxy "AccTest_XSLProxyService"
  local-address "0.0.0.0" "8922"
  priority normal
  default-param-namespace "http://www.datapower.com/param/config"
  query-param-namespace "http://www.datapower.com/param/query"
  monitor-processing-policy terminate-at-first-throttle
  debugger-type internal
  debug-history 25
  remote-address "10.10.10.10" "9999"
  xml-manager default
  stylesheet-policy default
  credential-charset protocol
  ssl-config-type server
exit

http "AccTest_XSLProxyService" xslproxy
  http-timeout 120
  persistent-timeout 180
  host-rewriting "on"
  no silence-warning 
  no compression 
  no include-response-type-encoding
  no always-show-errors
  no disallow-get
  no disallow-empty-reply
  persistent-connections 
  client-address "X-Client-IP"
  http-global-tranID-label "X-Global-Transaction-ID"
  httpproxy-port 800
  version "HTTP/1.1" "HTTP/1.1"
  no chunked-uploads 
exit

%if% available "sslforwarder"

sslforwarder "AccTest_SSLProxyService"
  ip-address 0.0.0.0
  priority normal
  local-port 4521
  remote-address 10.10.10.10
  remote-port 9999
  front-timeout 0
  back-timeout 0
  connection-timeout 0
  maximum-connections 100
  ssl-config-type server
  ssl-server AccTest_SSLServerProfile
exit

%endif%

tcpproxy "AccTest_TCPProxyService" "0.0.0.0" "6158" "10.10.10.10" "9999" "360" "normal"

%if% available "xslcoproc"

xslcoproc "AccTest_XSLCoprocService"
  local-address "0.0.0.0" 8811
  priority normal
  xml-manager default
  connection-timeout 60
  intermediate-result-timeout 20
  no cache-relative-url 
  use-client-resolver 
  no crypto-extensions 
  default-param-namespace "http://www.datapower.com/param/config"
  debugger-type internal
  debug-history 25
  ssl-config-type server
exit

%endif%

%if% available "assembly-graphql-cost-analysis"

assembly-graphql-cost-analysis "AccTest_AssemblyActionGraphQLCostAnalysis"
  input "message"
  target "targetquery"
exit

%endif%

%if% available "assembly-rate-limit-info"

assembly-rate-limit-info "AccTest_AssemblyActionRateLimitInfo"
  input "message"
exit

%endif%

%if% available "web-application-firewall"

web-application-firewall "AccTest_WebAppFW"
  priority normal
  listen-on "0.0.0.0" "3000" "off" "protocol"
  remote-address 10.10.10.10
  remote-port 80
  security-policy AccTest_AppSecurityPolicy
  xml-manager default
  uri-normalization 
  rewrite-errors 
  delay-errors 
  delay-errors-duration 1000
  stream-output-to-back buffer-until-verification
  stream-output-to-front buffer-until-verification
  front-timeout 120
  back-timeout 120
  front-persistent-timeout 180
  no allow-cache-control 
  back-persistent-timeout 180
  http-front-version HTTP/1.1
  http-back-version HTTP/1.1
  request-security 
  response-security 
  no chunked-uploads 
  follow-redirects 
  http-client-ip-label "X-Client-IP"
  http-global-tranID-label "X-Global-Transaction-ID"
  debugger-type internal
  debug-history 25
  host-rewriting 
  ssl-config-type server
exit

%endif%

%if% available "wsm-agent"

wsm-agent
  admin-state disabled
  max-records 3000
  max-memory 64000
  capture-mode faults
  buffer-mode discard
  no mediation-enforcement-metrics 
  max-payload-size 0
  push-interval 100
  push-priority normal
exit

%endif%

%if% available "web-token-service"

web-token-service "AccTest_WebTokenService"
  priority normal
  xml-manager default
  request-type preprocessed
  listen-on
    address 0.0.0.0
    port 8888
    no use-ssl 
    credential-charset protocol
    ssl-config-type server
  exit
  stylepolicy default
  rewrite-errors 
  delay-errors 
  delay-errors-duration 1000
  front-timeout 120
  front-persistent-timeout 180
  http-front-version HTTP/1.1
  http-client-ip-label "X-Client-IP"
  http-global-tranID-label "X-Global-Transaction-ID"
  debugger-type internal
  debug-history 25
exit

%endif%

%if% available "import-package"

import-package "AccTest_ImportPackage"
  source-url "http://localhost/config.zip"
  import-format ZIP
  overwrite-files 
  overwrite-objects 
  local-ip-rewrite 
  auto-execute 
exit

%endif%

import-execute "AccTest_ImportPackage"
