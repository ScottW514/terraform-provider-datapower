name: APIGateway
description: An API gateway matches the API to process API requests and to route each
  request to the matched API.
cli_alias: apigw
cmd_group: configuration
rest_endpoint: /mgmt/config/{domain}/APIGateway
actions:
- name: flush_stylesheet_cache
  body: '{"FlushAPIGWStylesheetCache": {"APIGateway": "{name}", "MatchPattern": "*"}}'
- name: flush_document_cache
  body: '{"FlushAPIGWDocumentCache": {"APIGateway": "{name}", "MatchPattern": "*"}}'
attributes:
- name: Id
  tf_name: id
  path: name
  type: String
  required: true
  test_value: '"ResTestAPIGateway"'
  test_expect_ds: '"AccTest_APIGateway"'
  example: APIGatewayName
  description: Name of the object. Must be unique among object types in application
    domain.
  string_patterns:
  - ^[a-zA-Z0-9_-]+$
  string_min_length: 1
  string_max_length: 128
- name: AppDomain
  tf_name: app_domain
  type: String
  required: true
  example: test_domain
  description: The name of the application domain the object belongs to
  string_patterns:
  - ^[a-zA-Z0-9_-]+$
  string_min_length: 1
  string_max_length: 128
- name: UserSummary
  type: String
  description: Comments
  cli_alias: summary
- name: GatewayServiceName
  type: String
  description: Gateway service name
  cli_alias: gateway-service-name
- name: FrontProtocol
  type: List
  element_type: String
  test_value: '["AccTest_HTTPSourceProtocolHandler"]'
  test_bed_value: '[datapower_http_source_protocol_handler.acc_test.id]'
  required: true
  description: Protocol handler (reference to HTTP or HTTPS Source Protocol Hander)
  cli_alias: front-protocol
- name: URLRefreshPolicy
  type: String
  reference_to: URLRefreshPolicy
  description: Specify the stylesheet refresh policy. Stylesheets cached by this gateway
    are refreshed in accordance with policy rules.
  cli_alias: xslrefresh
- name: CacheMemorySize
  type: Int64
  default: 2147483647
  description: Specify the maximum size of the stylesheet cache. The default value
    is 2147483647. A value of 0 disables caching. Stylesheets are purged when either
    the cache size or the cache count is reached.
  cli_alias: xsl-cache-memorysize
- name: CacheSize
  type: Int64
  minimum: 5
  maximum: 250000
  default: 256
  description: Specify the maximum number of stylesheets to cache. Enter a value in
    the range 5 - 250000. The default value is 256. Stylesheets are purged when either
    the cache size or the cache count is reached.
  cli_alias: xsl-cache-size
- name: SHA1Caching
  type: Bool
  default: true
  description: Specify how to manage SHA1-assisted stylesheet caching. With SHA1 caching
    enabled, stylesheets are cached by both URL and SHA1 message digest value. With
    SHA1 caching disabled, stylesheets are cached only by URL.
  cli_alias: xsl-checksummed-cache
- name: StaticDocumentCalls
  type: Bool
  default: true
  description: Specify how to manage static document calls. The latest XSLT specifications
    require that multiple document calls in the same transformation return the same
    result. Disable this setting to allow all document calls to operate independently.
  cli_alias: static-document-calls
- name: VirtualServers
  type: List
  reference_to: LoadBalancerGroup
  element_type: String
  description: Load balancer groups
  cli_alias: loadbalancer-group
- name: DocCacheMaxDocs
  type: Int64
  minimum: 1
  maximum: 250000
  default: 5000
  description: Specify the maximum number of documents to cache. Enter a value in
    the range 1 - 250000. The default value is 5000.
  cli_alias: maxdocs
- name: DocCacheSize
  type: Int64
  description: Specify the maximum size of the document cache. Regardless of the specified
    size, no document that is greater than 1073741824 bytes is cached. This restriction
    applies even if the cache has available space.
  cli_alias: size
- name: DocMaxWrites
  type: Int64
  minimum: 1
  maximum: 32768
  default: 32768
  description: Specify the maximum number of concurrent write requests to create documents
    or refresh expired documents in the document cache. Enter a value in the range
    1 - 32768. The default value is 32768. After the maximum number is reached, requests
    are forwarded to the target server and the response is not written to the cache.
  cli_alias: max-writes
- name: DocCachePolicy
  type: List
  element_type: DmDocCachePolicy
  description: Specify the document cache policies to associate a set of URLs with
    a specific cache policy. A document cache policy allows the administrator to determine
    how documents are cached. The policy offers time-to-live, priority, and type.
    The document cache is distinct from the stylesheet cache.
  cli_alias: policy
- name: ScheduledRule
  type: List
  element_type: DmScheduledRule
  description: Specify the processing rules to run at defined intervals. Certain applications
    require the running of a processing rule. For example, the integration with a
    CA Unicenter Manager is facilitated by a regularly scheduled processing rule that
    obtains relationship data from the Unicenter Manager.
  cli_alias: schedule-rule
- name: APICollection
  type: List
  reference_to: APICollection
  element_type: String
  description: Specify the API collections to serve a group of clients. Each collection
    packages the plans and subscribers to serve a specific group of clients.
  cli_alias: collection
- name: ShareRateLimitCount
  type: String
  enum:
  - 'yes'
  - 'no'
  default: 'yes'
  description: Share rate limit count
  cli_alias: share-count
- name: AssemblyBurstLimit
  type: List
  element_type: DmAPIBurstLimit
  description: ''
  cli_alias: assembly-burst-limit
- name: AssemblyRateLimit
  type: List
  element_type: DmAPIRateLimit
  description: Assembly rate limits
  cli_alias: assembly-rate-limit
- name: AssemblyCountLimit
  type: List
  element_type: DmAPICountLimit
  description: Assembly count limits
  cli_alias: assembly-count-limit
- name: LDAPConnPool
  type: String
  reference_to: LDAPConnectionPool
  description: LDAP connection pool
  cli_alias: ldap-pool
- name: ProxyPolicies
  type: List
  element_type: DmAPIProxyPolicy
  description: Specify the proxy policies to associate a set of URLs with a specific
    HTTP proxy. When multiple proxy policies are defined, URLs are evaluated against
    each policy in order.
  cli_alias: proxy
- name: FrontTimeout
  type: Int64
  minimum: 1
  maximum: 86400
  required: true
  default: 120
  description: Specify the intra-transaction timeout for client connections. This
    value is the maximum idle time to allow in a transaction for a client connection.
    This timer monitors idle time in the data transfer process. If the specified idle
    time is exceeded, the connection is torn down. Enter a value in the range 1 -
    86400. The default value is 120.
  cli_alias: front-timeout
- name: FrontPersistentTimeout
  type: Int64
  maximum: 86400
  required: true
  default: 180
  description: Specify the inter-transaction timeout for client connections. This
    value is the maximum idle time to allow between the completion of a transaction
    and the initiation of a new transaction for a client connection. If the specified
    idle time is exceeded, the connection is torn down. Enter a value in the range
    0 - 86400. The default value is 180. A value of 0 disables persistent connections.
  cli_alias: front-persistent-timeout
- name: OpenTelemetry
  type: String
  reference_to: OpenTelemetry
  description: OpenTelemetry instance
  cli_alias: otel
- name: OpenTelemetryResourceAttribute
  type: List
  element_type: DmOpenTelemetryResourceAttribute
  description: OpenTelemetry resource attributes
  cli_alias: otel-resource-attribute
