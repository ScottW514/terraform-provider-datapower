---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "datapower_operation_rate_limit Resource - terraform-provider-datapower"
subcategory: ""
description: |-
  An API operation rate limit defines the operation-specific rate limit scheme. Operation specific rate limits override the schemes in the API plan.
  CLI Alias: api-operation-rate-limit
---

# datapower_operation_rate_limit (Resource)

An API operation rate limit defines the operation-specific rate limit scheme. Operation specific rate limits override the schemes in the API plan.
  - CLI Alias: `api-operation-rate-limit`

## Example Usage

```terraform
resource "datapower_operation_rate_limit" "test" {
  id         = "ResTestOperationRateLimit"
  app_domain = "acceptance_test"
  operation  = "AccTest_APIOperation"
  rate_limit = [{ "name" : "RateLimit", "rate" : "1000" }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `app_domain` (String) The name of the application domain the object belongs to
- `id` (String) Name of the object. Must be unique among object types in application domain.
- `operation` (String) API operation
  - CLI Alias: `operation`
  - Reference to: `datapower_api_operation:id`

### Optional

- `dependency_actions` (Attributes List) Actions to take on other resources when operations are performed on this resource. (see [below for nested schema](#nestedatt--dependency_actions))
- `provider_target` (String) Target host for this resource. If not set, provider will use the top level settings.
- `rate_limit` (Attributes List) Rate limit
  - CLI Alias: `rate-limit`
  - Required When: `use_rate_limit_group`=`false`
  - Not Valid When: `use_rate_limit_group`=`true` (see [below for nested schema](#nestedatt--rate_limit))
- `rate_limit_group` (String) Rate limit group
  - CLI Alias: `rate-limit-group`
  - Reference to: `datapower_rate_limit_definition_group:id`
  - Not Valid When: `use_rate_limit_group`=`false`
- `use_rate_limit_group` (Boolean) Use rate limit group
  - CLI Alias: `use-rate-limit-group`
  - Default value: `false`
- `user_summary` (String) Comments
  - CLI Alias: `summary`

<a id="nestedatt--dependency_actions"></a>
### Nested Schema for `dependency_actions`

Required:

- `action` (String) Action to take on target resource
- `target_domain` (String) Application domain of the target for the action
- `target_type` (String) Resource type of the target for the action

Optional:

- `on_create` (Boolean) Execute this action on the target when creating this resource.
- `on_delete` (Boolean) Execute this action on the target when deleting this resource.
- `on_update` (Boolean) Execute this action on the target when updating this resource.
- `target_id` (String) Id of the target for the action (required for all resources except `datapower_domain`)


<a id="nestedatt--rate_limit"></a>
### Nested Schema for `rate_limit`

Required:

- `name` (String) Indicates the name of the rate limit scheme.
- `rate` (Number) Indicates the maximum number of requests that the API Gateway can handle within a time interval. The value of 0 indicates no limit.
  - Range: `0`-`4294967295`

Optional:

- `cache_only` (Boolean) Specifies whether to use the local cache first to enforce the rate limit. In peer group mode, using the local cache first can prevent transaction delays if communication problems arise across the peer group. However, the transaction count is less precise when this setting is enabled.
  - Default value: `true`
  - Not Valid When: `rate`=`0`
- `dynamic_value` (String) Indicates the dynamic value string for the rate limit, which should contain one or more context variables. The dynamic value makes it possible to use a context variable to enforce the rate limit based on parameters other than those defined in the rate limit scheme, such as a user name, incoming IP address, or server name. The context variable can be set in a GatewayScript action and then included in the dynamic value. <p>The following example uses the context object in a GatewayScript action to add the <tt>my.server</tt> variable to the API context.</p><p><tt>context.set("my.server", "server34")</tt></p><p>The dynamic value can then include the variable <tt>my.server</tt> , which resolves to the server name <tt>server34</tt> .</p><p>The default value is an empty string.</p>
  - Not Valid When: `rate`=`0`
- `hard_limit` (Boolean) <p>Indicates whether to reject requests when the specified rate limit is reached.</p><ul><li>When enabled, the API Gateway rejects requests when the limit is exceeded.</li><li>When disabled, the API Gateway still handles the requests but produces a warning message.</li></ul><p>By default, the API Gateway does not reject requests when the limit is exceeded.</p>
  - Default value: `false`
  - Not Valid When: `rate`=`0`
- `interval` (Number) Indicates the time interval for the rate limit. Specify a value that is greater than or equal to 1. The default value is 1.
  - Range: `1`-`65535`
  - Default value: `1`
  - Not Valid When: `rate`=`0`
- `is_client` (Boolean) Indicates whether to apply the rate limit to the client or to an internal component. Client rate limits return a 429 error when exceeded. Non-client rate limits return a 503 error when exceeded. When set to <tt>off</tt> , rate limit information is not included in the response header.
  - Default value: `true`
  - Not Valid When: `rate`=`0`
- `unit` (String) Indicates the time unit for the rate limit. The default value is second.
  - Choices: `second`, `minute`, `hour`, `day`, `week`
  - Default value: `second`
  - Not Valid When: `rate`=`0`
- `use_api_name` (Boolean) Indicates whether to use the API name as part of the rate limit key.
  - Default value: `false`
  - Not Valid When: `rate`=`0`
- `use_app_id` (Boolean) Indicates whether to use the application ID as part of the rate limit key.
  - Default value: `false`
  - Not Valid When: `rate`=`0`
- `use_client_id` (Boolean) Indicates whether to use the client ID as part of the rate limit key.
  - Default value: `false`
  - Not Valid When: `rate`=`0`
- `weight` (String) Specifies a JSONata expression that assigns a weight value to the transaction. For each API call, the value computed by the weight expression is applied to the rate limit. The default value is 1. If the weight expression evaluates to a value that is less than or equal to 0, it is set to 1. An empty string results in an error.
  - Default value: `1`
  - Not Valid When: `rate`=`0`
