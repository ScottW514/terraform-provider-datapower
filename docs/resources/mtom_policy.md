---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "datapower_mtom_policy Resource - terraform-provider-datapower"
subcategory: ""
description: |-
  An MTOM policy provides a mechanism for optimizing the transmission and wire format of an XML/SOAP message. Optimization is performed by selecting elements with base64-encoded character data. The selected elements are decoded and attached as MIME attachment parts before transmission. Decoding before transmission reduces the overhead that is associated with base64-encoded data.
  CLI Alias: mtom
---

# datapower_mtom_policy (Resource)

An MTOM policy provides a mechanism for optimizing the transmission and wire format of an XML/SOAP message. Optimization is performed by selecting elements with base64-encoded character data. The selected elements are decoded and attached as MIME attachment parts before transmission. Decoding before transmission reduces the overhead that is associated with base64-encoded data.
  - CLI Alias: `mtom`

## Example Usage

```terraform
resource "datapower_mtom_policy" "test" {
  id         = "ResTestMTOMPolicy"
  app_domain = "acceptance_test"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `app_domain` (String) The name of the application domain the object belongs to
- `id` (String) Name of the object. Must be unique among object types in application domain.

### Optional

- `dependency_actions` (Attributes List) Actions to take on other resources when operations are performed on this resource. (see [below for nested schema](#nestedatt--dependency_actions))
- `include_content_type` (Boolean) <p>Select whether to include the xmlmine:contentType declaration in output messages when the input message does not contain this declaration. If the input message contains this declaration, the MTOM policy passes through the attribute regardless of the setting for this property.</p><ul><li>Select "on", the default value, to add the contentType declaration to the output message.</li><li>Select "off" to not add the contentType declaration to the output message.</li></ul>
  - CLI Alias: `include-content-type`
  - Default value: `true`
- `mode` (String) Specify the optimization mode. <p>The encode option optimizes (serializes) input messages. For serialization, provide an XPath expression or a list of XPath expressions to identify the content to extract. Optionally, per XPath expression, exercise control over the Content Type and Content ID values. These two values can be determined automatically using the xmlmime:contentType declaration and namespace declaration.</p><p>The decode option decodes (deserializes) attachment parts of an optimized message. Deserialization, by default, reassembles the original infoset, which results in either a SOAP document or MIME document depending on whether all attachments were referenced by &lt;Include/> elements. Optionally, you can specify a Content ID to select individual attachment parts to reassemble.</p>
  - CLI Alias: `mode`
  - Choices: `encode`, `decode`
  - Default value: `encode`
- `rule` (Attributes List) Each MTOM rule describes which message elements to optimize. A single XPath expression selects one or more elements for optimization.
  - CLI Alias: `rule` (see [below for nested schema](#nestedatt--rule))
- `user_summary` (String) Comments
  - CLI Alias: `summary`

<a id="nestedatt--dependency_actions"></a>
### Nested Schema for `dependency_actions`

Required:

- `action` (String) Action to take on target resource
- `target_domain` (String) Application domain of the target for the action
- `target_type` (String) Resource type of the target for the action

Optional:

- `on_create` (Boolean) Execute this action on the target when creating this resource.
- `on_delete` (Boolean) Execute this action on the target when deleting this resource.
- `on_update` (Boolean) Execute this action on the target when updating this resource.
- `target_id` (String) Id of the target for the action (required for all resources except `datapower_domain`)


<a id="nestedatt--rule"></a>
### Nested Schema for `rule`

Required:

- `xpath` (String) An XPath expression that defines which schema element or schema elements are subject to this rule. Click XPath Tool to launch the XPath expression builder. To use this tool, upload an example document. After the example document is loaded, the tool allows you to select the elements to construct the corresponding XPath expression. After selecting the elements, click Done to return to the MTOM Rules Properties window.
  - CLI Alias: `select`

Optional:

- `content_id` (String) If not explicitly configured, content IDs are automatically generated. Using this property allows for the explicit configuration of content-id headers and their associated href values. Rules that match multiple data elements result in one attachment part for all matched elements. The resulting attachment part contains data from the last match only.
  - CLI Alias: `content-id`
- `content_type` (String) The Content Type for the extracted element data. This option overrides the value that is attained from the xmlmime:contentType attribute. If the provided XPath matches more than one element, each corresponding MIME attachment part will contain a content-type header with this value. If different content-type values are required, selective XPath expressions are required.
  - CLI Alias: `content-type`
