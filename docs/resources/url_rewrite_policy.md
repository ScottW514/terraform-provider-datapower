---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "datapower_url_rewrite_policy Resource - terraform-provider-datapower"
subcategory: ""
description: |-
  Configure/Edit URL Rewrite Policies
  CLI Alias: urlrewrite
---

# datapower_url_rewrite_policy (Resource)

Configure/Edit URL Rewrite Policies
  - CLI Alias: `urlrewrite`

## Example Usage

```terraform
resource "datapower_url_rewrite_policy" "test" {
  id         = "ResTestURLRewritePolicy"
  app_domain = "acceptance_test"
  url_rewrite_rule = [{
    type                 = "header-rewrite"
    match_regexp         = "Test"
    input_replace_regexp = "Replace"
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `app_domain` (String) The name of the application domain the object belongs to
- `id` (String) Name of the object. Must be unique among object types in application domain.

### Optional

- `dependency_actions` (Attributes List) Actions to take on other resources when operations are performed on this resource. (see [below for nested schema](#nestedatt--dependency_actions))
- `direction` (String) Restricts the URL Rewrite Policy to a specified direction. Direction is applied at the service object level and has no effect on policies used from multistep or elsewhere.
  - CLI Alias: `direction`
  - Choices: `all`, `request`, `response`
  - Default value: `all`
- `provider_target` (String) Target host for this resource. If not set, provider will use the top level settings.
- `url_rewrite_rule` (Attributes List) Add, edit, or delete a URL rewrite rule
  - CLI Alias: `rule` (see [below for nested schema](#nestedatt--url_rewrite_rule))

<a id="nestedatt--dependency_actions"></a>
### Nested Schema for `dependency_actions`

Required:

- `action` (String) Action to take on target resource
- `target_domain` (String) Application domain of the target for the action
- `target_type` (String) Resource type of the target for the action

Optional:

- `on_create` (Boolean) Execute this action on the target when creating this resource.
- `on_delete` (Boolean) Execute this action on the target when deleting this resource.
- `on_update` (Boolean) Execute this action on the target when updating this resource.
- `target_id` (String) Id of the target for the action (required for all resources except `datapower_domain`)


<a id="nestedatt--url_rewrite_rule"></a>
### Nested Schema for `url_rewrite_rule`

Required:

- `match_regexp` (String) <p>Specify a PCRE that defines the match condition that triggers the rewrite rule. Depending on the rule type, a candidate URL or header field is matched against the expression.</p><ul><li>For <b>absolute-rewrite</b> , <b>content-type</b> , and <b>post-body</b> , defines the expression to be matched against the URL. For example, .* or * matches any string, while (.*)xsl=(.*)\?(.*) matches a text subpattern followed by xsl= followed by a text subpattern followed by a ? followed by a text subpattern.</li><li>For <b>header-rewrite</b> , defines the expression to be matched against the contents of a specific header field. For example, *.* matches any value.</li></ul><p>PCRE documentation is available at http://www.pcre.org</p>
  - CLI Alias: `match`
- `type` (String) Select the type of rule for the URL Rewrite Policy.
  - CLI Alias: `type`
  - Choices: `rewrite`, `absolute-rewrite`, `post-body`, `header-rewrite`, `content-type`

Optional:

- `header` (String) Name HTTP Header to Rewrite
  - Default value: `none`
  - Required When: `type`=`header-rewrite`
  - Not Valid When: `type`=`post-body`|`rewrite`|`absolute-rewrite`|`content-type`
- `input_replace_regexp` (String) <p>Specify a Perl-style replacement that defines the rewritten URL, header field, or HTTP POST body.</p><ul><li>For <b>absolute-rewrite</b> , defines the rewritten URL. If the match pattern is *, specify the complete replacement. If the match pattern is (.*)xsl=(.*)\?(.*), specify the evaluation replacement for any text subpattern or retain the original subpattern. To retain the first subpattern, specify $1; to retain the second text subpattern, specify $2; and so forth. To replace the second text subpattern only, specify $1xsl=ident.xsl$3. <p>If a rewritten URL begins with a host name or port that is different from the configured remote address, the host name or port portion of the rewritten URL is ignored.</p></li><li>For <b>content-type</b> , define the replace value for the Content-Type header.</li><li>For <b>header-rewrite</b> , define the replacement value for the specified header.</li><li>For <b>post-body</b> , define the rewritten body of the HTTP POST. If the match pattern is .*, specify the complete replacement. If the match pattern is (.*)xsl=(.*)\?(.*), specify the evaluation replacement for any text subpattern or retain the original subpattern. To retain the first subpattern, specify $1; to retain the second text subpattern, specify $2; and so forth. To omit the second text subpattern only, specify $1$3.</li></ul>
  - CLI Alias: `input-expression`
  - Required When: `type`=`header-rewrite`
- `input_unescape` (Boolean) Replace URL-encoded characters (for example, "%2F") with the equivalent literal character. Select on to replace escape sequences, or off to retain them.
  - CLI Alias: `input-unescape`
  - Default value: `false`
  - Not Valid When: `type`=`header-rewrite`|`content-type`
- `normalize_url` (Boolean) Normalize URL by converting '\' to '/' and compressing '.' and '..'
  - CLI Alias: `normalize-url`
  - Default value: `false`
- `style_replace_regexp` (String) <p>Specify a Perl-style replacement that identifies the replacement stylesheet. This option is available for <b>absolute-rewrite</b> and <b>post-body</b> only.</p><p>If the match pattern is .*, specify the complete replacement. If the match pattern is (.*)xsl=(.*)\?(.*), specify the evaluation replacement for any text subpattern or retain the original subpattern. To retain the first subpattern, specify $1; to retain the second text subpattern, specify $2; and so forth. To retain the second text subpattern only and not use the third text subpattern, specify http://mantis:8000$2.</p>
  - CLI Alias: `stylesheet-expression`
  - Not Valid When: `type`=`header-rewrite`|`content-type`
- `stylesheet_unescape` (Boolean) Replace URL-encoded characters (for example, "%2F") with the equivalent literal character. Select on to replace escape sequences, or off to retain them.
  - CLI Alias: `stylesheet-unescape`
  - Default value: `true`
  - Not Valid When: `type`=`header-rewrite`|`content-type`
