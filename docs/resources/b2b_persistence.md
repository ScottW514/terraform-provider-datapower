---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "datapower_b2b_persistence Resource - terraform-provider-datapower"
subcategory: ""
description: |-
  Define the data storage for B2B transaction data.
  CLI Alias: b2b-persistence
---

# datapower_b2b_persistence (Resource)

Define the data storage for B2B transaction data.
  - CLI Alias: `b2b-persistence`

## Example Usage

```terraform
resource "datapower_b2b_persistence" "test" {
  raid_volume  = "raid0"
  storage_size = 1024
  ha_enabled   = false
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `raid_volume` (String) Specify the location of the data store. The location must be the <tt>raid0</tt> RAID volume. During firmware initialization, the <tt>raid0</tt> volume is associated with persistent storage.
  - CLI Alias: `raid-volume`
  - Reference to: `datapower_raid_volume:id`

### Optional

- `dependency_actions` (Attributes List) Actions to take on other resources when operations are performed on this resource. (see [below for nested schema](#nestedatt--dependency_actions))
- `enabled` (Boolean) <p>The administrative state of the configuration.</p><ul><li>To make active, set to enabled.</li><li>To make inactive, set to disabled.</li></ul>
  - CLI Alias: `admin-state`
  - Default value: `false`
- `ha_enabled` (Boolean) When on, the appliance is in active-passive high availability mode with the configured 'Alternate Host'.
  - CLI Alias: `ha-enabled`
  - Default value: `false`
- `ha_local_ip` (String) Replication address
  - CLI Alias: `ha-local-ip`
  - Required When: `ha_enabled`=`true`
- `ha_local_port` (Number) Replication port
  - CLI Alias: `ha-local-port`
  - Default value: `1320`
  - Required When: `ha_enabled`=`true`
- `ha_other_hosts` (Attributes) Alternate host
  - CLI Alias: `ha-other-hosts` (see [below for nested schema](#nestedatt--ha_other_hosts))
- `ha_virtual_ip` (String) Virtual IP address
  - CLI Alias: `ha-virtual-ip`
  - Required When: `ha_enabled`=`true`
- `storage_size` (Number) Specify the maximum size for the data store in MB. Enter a value in the range 1024 - 65536. The default is 1024. <p>This data store is for all B2B gateway services. These services store transaction metadata on the unencrypted partition of the RAID volume. These services store copies of the messages on the encrypted portion of the RAID volume.</p><p>The storage location for messages is defined on a service-by-service basis during the configuration of the B2B gateway.</p><p><b>Attention:</b> The maximum size for the persistent data store cannot be changed to a smaller value. Changing to a larger value might interrupt transactions that are in flight.</p>
  - CLI Alias: `storage-size`
  - Range: `1024`-`65536`
  - Default value: `1024`
- `user_summary` (String) Comments
  - CLI Alias: `summary`

<a id="nestedatt--dependency_actions"></a>
### Nested Schema for `dependency_actions`

Required:

- `action` (String) Action to take on target resource
- `target_domain` (String) Application domain of the target for the action
- `target_type` (String) Resource type of the target for the action

Optional:

- `on_create` (Boolean) Execute this action on the target when creating this resource.
- `on_delete` (Boolean) Execute this action on the target when deleting this resource.
- `on_update` (Boolean) Execute this action on the target when updating this resource.
- `target_id` (String) Id of the target for the action (required for all resources except `datapower_domain`)


<a id="nestedatt--ha_other_hosts"></a>
### Nested Schema for `ha_other_hosts`

Optional:

- `hostname` (String) Specify the host name of the other system in the high availability cluster.
- `port` (Number) Specify the listening port on the other system in the high availability cluster.
  - Range: `1`-`65535`
  - Default value: `1320`
