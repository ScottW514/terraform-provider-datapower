---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "datapower_crl_fetch Resource - terraform-provider-datapower"
subcategory: ""
description: |-
  CRL Retrieval (default domain only)
  CLI Alias: crl
---

# datapower_crl_fetch (Resource)

CRL Retrieval (`default` domain only)
  - CLI Alias: `crl`

## Example Usage

```terraform
resource "datapower_crl_fetch" "test" {
  crl_fetch_config = [{
    name             = "crlfetch"
    fetch_type       = "http"
    issuer_valcred   = "DefaultTest_CryptoValCred"
    refresh_interval = 240
    url              = "http://foo.com/crl"
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `crl_fetch_config` (Attributes List) Define the configuration of an HTTP-enabled or an LDAP-enabled CRL (Certificate Revocation List) update policy. When HTTP, specify the Fetch URL. When LDAP, specify the LDAP bind information. For both, specify the validation credentials. (see [below for nested schema](#nestedatt--crl_fetch_config))
- `dependency_actions` (Attributes List) Actions to take on other resources when operations are performed on this resource. (see [below for nested schema](#nestedatt--dependency_actions))
- `enabled` (Boolean) <p>The administrative state of the configuration.</p><ul><li>To make active, set to enabled.</li><li>To make inactive, set to disabled.</li></ul>
  - CLI Alias: `admin-state`
  - Default value: `true`
- `provider_target` (String) Target host for this resource. If not set, provider will use the top level settings.

<a id="nestedatt--crl_fetch_config"></a>
### Nested Schema for `crl_fetch_config`

Required:

- `fetch_type` (String) Select the protocol to obtain the CRL from the authority.
  - Choices: `http`, `ldap`
- `issuer_valcred` (String) The validation credentials to verify the authenticity of the CRL issuer and, therefor, the CRL. The certificate that the CRL issuer uses must be in the validation credentials for the CRL to be valid.
  - CLI Alias: `issuer`
  - Reference to: `datapower_crypto_val_cred:id`
- `name` (String) Enter the name of the CRL retrieval policy.

Optional:

- `bind_dn` (String) A string containing the DN to login to the LDAP server.
  - CLI Alias: `bind-dn`
  - Not Valid When: `fetch_type`=`http`
- `bind_pass_alias` (String) A string containing the password alias of the password to login to the LDAP server.
  - CLI Alias: `bind-pass-alias`
  - Reference to: `datapower_password_alias:id`
  - Not Valid When: `fetch_type`=`http`
- `dn` (String) A string containing the DN of the CA that issued the target CRL.
  - CLI Alias: `read-dn`
  - Required When: `fetch_type`=`ldap`
  - Not Valid When: attribute is not conditionally required
- `ldap_read_timeout` (Number) The number of seconds to wait for a response from the LDAP server before the DataPower Gateway closes the LDAP connection. Enter a value in the range 0 - 86400. The default value is 60. A value of 0 indicates that the connection never times out.
  - CLI Alias: `ldap-readtimeout`
  - Range: `0`-`86400`
  - Default value: `60`
  - Not Valid When: `fetch_type`=`http`
- `ldap_version` (String) The LDAP server version.
  - CLI Alias: `ldap-version`
  - Choices: `v2`, `v3`
  - Default value: `v2`
  - Not Valid When: `fetch_type`=`http`
- `refresh_interval` (Number) The interval in minutes between CRL updates. Enter a value in the range 1 - 1440. The default value is 240.
  - CLI Alias: `refresh`
  - Range: `1`-`1440`
  - Default value: `240`
- `remote_address` (String) Specify the host name or IP address of the LDAP server to obtain the CRL.
  - CLI Alias: `remote-address`
  - Required When: `fetch_type`=`ldap`
  - Not Valid When: attribute is not conditionally required
- `remote_port` (Number) The remote LDAP port. Enter a value in the range 1 - 65535. The default value is 389. For LDAP over TLS, the standard port is 636.
  - Default value: `389`
  - Required When: `fetch_type`=`ldap`
  - Not Valid When: attribute is not conditionally required
- `ssl_client` (String) The TLS client profile to secure connections between the DataPower Gateway and its targets.
  - CLI Alias: `ssl-client`
  - Reference to: `datapower_ssl_client_profile:id`
  - Not Valid When: `ssl_client_config_type`!=`client`
- `ssl_client_config_type` (String) The TLS profile type to secure connections between the DataPower Gateway and its targets.
  - CLI Alias: `ssl-client-type`
  - Choices: `client`
  - Default value: `client`
- `url` (String) A URL that specifies the location of the CRL.
  - CLI Alias: `fetch-url`
  - Required When: `fetch_type`=`http`
  - Not Valid When: attribute is not conditionally required


<a id="nestedatt--dependency_actions"></a>
### Nested Schema for `dependency_actions`

Required:

- `action` (String) Action to take on target resource
- `target_domain` (String) Application domain of the target for the action
- `target_type` (String) Resource type of the target for the action

Optional:

- `on_create` (Boolean) Execute this action on the target when creating this resource.
- `on_delete` (Boolean) Execute this action on the target when deleting this resource.
- `on_update` (Boolean) Execute this action on the target when updating this resource.
- `target_id` (String) Id of the target for the action (required for all resources except `datapower_domain`)
