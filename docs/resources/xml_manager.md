---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "datapower_xml_manager Resource - terraform-provider-datapower"
subcategory: ""
description: |-
  An XML Manager manages the compilation and caching of stylesheets, the caching of documents, and provides configuration constraints on the size and parsing depth of documents. You can enable streaming operation by configuring an XML Manager to use a Streaming Compile Option Policy. More than one firewall can use the same XML Manager.
  CLI Alias: xmlmgrAccepted Dependency Actions: flush_stylesheet_cache, flush_document_cache, flush_ldap_pool_cache
---

# datapower_xml_manager (Resource)

An XML Manager manages the compilation and caching of stylesheets, the caching of documents, and provides configuration constraints on the size and parsing depth of documents. You can enable streaming operation by configuring an XML Manager to use a Streaming Compile Option Policy. More than one firewall can use the same XML Manager.
  - CLI Alias: `xmlmgr`
  - Accepted Dependency Actions: `flush_stylesheet_cache`, `flush_document_cache`, `flush_ldap_pool_cache`

## Example Usage

```terraform
resource "datapower_xml_manager" "test" {
  id         = "ResTestXMLManager"
  app_domain = "acceptance_test"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `app_domain` (String) The name of the application domain the object belongs to
- `id` (String) Name of the object. Must be unique among object types in application domain.

### Optional

- `cache_memory_size` (Number) Enter the maximum size of the stylesheet cache. The default value is 2147483647. A value of 0 disables caching. Stylesheets are purged when either the cache size or the cache count is reached.
  - CLI Alias: `xsl cache memorysize`
  - Default value: `2147483647`
- `cache_size` (Number) Enter the maximum number of stylesheets to cache. Enter a value in the range 5 - 250000. The default value is 256. Stylesheets are purged when either the cache size or the cache count is reached.
  - CLI Alias: `xsl cache size`
  - Range: `5`-`250000`
  - Default value: `256`
- `compile_options_policy` (String) <p>Optionally, assigns a Compilation Options Policy to the XML Manager. Stylesheets cached by this manager are compiled in accordance with policy rules. Compile Options allow the administrator to manage profiling and debug modes, which are helpful during development and troubleshooting sessions. Profiling and debug modes should not be left on for production purposes.</p><p>Compile Options Policy also enables streaming mode, which might be a valid choice for production environments that regularly encounter very large documents.</p>
  - CLI Alias: `xslconfig`
  - Reference to: `datapower_compile_options_policy:id`
- `dependency_actions` (Attributes List) Actions to take on other resources when operations are performed on this resource. (see [below for nested schema](#nestedatt--dependency_actions))
- `doc_cache_max_docs` (Number) Enter the maximum number of documents to cache. Enter a value in the range 1 - 250000. The default value is 5000.
  - CLI Alias: `maxdocs`
  - Range: `1`-`250000`
  - Default value: `5000`
- `doc_cache_policy` (Attributes List) A document cache policy allows the administrator to determine how documents are cached by the XML manager. The policy offers time-to-live, priority, and type configuration values. This document cache is distinct from the stylesheet cache for the XML manager. Documents and stylesheets that the XML manager retrieves can be cached.
  - CLI Alias: `policy` (see [below for nested schema](#nestedatt--doc_cache_policy))
- `doc_cache_size` (Number) Enter the maximum size of the document cache. Regardless of the specified size, no document that is greater than 1073741824 bytes is cached. This restriction applies even if the cache has available space.
  - CLI Alias: `size`
  - Range: `1`-`4294967295`
  - Default value: `0`
- `doc_max_writes` (Number) Enter the maximum number of concurrent write requests to create documents or refresh expired documents in the document cache. Enter a value in the range 1 - 32768. The default value is 32768. After the maximum number is reached, requests are forwarded to the target server and the response is not written to the cache.
  - CLI Alias: `max-writes`
  - Range: `1`-`32768`
  - Default value: `32768`
- `json_parser_settings` (String) Identifies the JSON Settings used by the XML manager when processing a JSON body. If no JSON Settings are specified, the default limits are enforced.
  - CLI Alias: `json-parser-settings`
  - Reference to: `datapower_json_settings:id`
- `ldap_conn_pool` (String) Identifies the LDAP connection pool to be used by the XML Manager when contacting LDAP
  - CLI Alias: `ldap-pool`
  - Reference to: `datapower_ldap_connection_pool:id`
- `parser_limits_attribute_count` (Number) Enter the maximum number of attributes of a given element. The default value is 128.
  - CLI Alias: `attribute-count`
  - Default value: `128`
- `parser_limits_bytes_scanned` (Number) Enter the maximum number of bytes scanned in one message. This property applies to any XML document that is parsed. If the value is 0, no limit is enforced. The default value is 4194304.
  - CLI Alias: `bytes-scanned`
  - Default value: `4194304`
- `parser_limits_element_depth` (Number) Enter the maximum depth of element nesting in XML parser. The default value is 512.
  - CLI Alias: `element-depth`
  - Default value: `512`
- `parser_limits_external_references` (String) Select the special handling for input documents that contain external references, such as an external entity or external DTD definition.
  - CLI Alias: `external-references`
  - Choices: `forbid`, `ignore`, `allow`
  - Default value: `forbid`
- `parser_limits_max_local_names` (Number) Enter the maximum number of distinct XML local names in a document. This limit counts all local names, independent of the namespaces they are associated with. Enter a value in the range 0 - 1048575. The default value is 60000. A value of 0 indicates that the limit is 60000.
  - CLI Alias: `max-local-names`
  - Range: `0`-`1048575`
  - Default value: `60000`
- `parser_limits_max_namespaces` (Number) Enter the maximum number of distinct XML namespace URIs in a document. This limit counts all XML namespaces, regardless of how many prefixes are used to declare them. Enter a value in the range 0 - 65535. The default value is 1024. A value of 0 indicates that the limit is 1024.
  - CLI Alias: `max-namespaces`
  - Range: `0`-`65535`
  - Default value: `1024`
- `parser_limits_max_node_size` (Number) Enter the maximum size that any one node can consume. Enter a value in the range 1024 - 4294967295. The default value is 33554432. Sizes which are powers of two result in the best performance. Although you define a value, the DataPower Gateway uses a value that is the rounded-down to the largest power of two that is smaller than the defined value.
  - CLI Alias: `max-node-size`
  - Range: `1024`-`4294967295`
  - Default value: `33554432`
- `parser_limits_max_prefixes` (Number) Enter the maximum number of distinct XML namespace prefixes in a document. This limit counts multiple prefixes defined for the same namespace, but does not count multiple namespaces defined in different parts of the input document under a single prefix. Enter a value in the range 0 - 262143. The default value is 1024. A value of 0 indicates that the limit is 1024.
  - CLI Alias: `max-prefixes`
  - Range: `0`-`262143`
  - Default value: `1024`
- `scheduled_rule` (Attributes List) Certain applications might require the running of a scheduled processing rule. Integration with a CA Unicenter Manager is facilitated by a regularly scheduled processing rule that obtains relationship data from the Unicenter Manager.
  - CLI Alias: `schedule-rule` (see [below for nested schema](#nestedatt--scheduled_rule))
- `schema_validation` (Attributes List) - CLI Alias: `validate` (see [below for nested schema](#nestedatt--schema_validation))
- `search_results` (Boolean) Configures optimization of '//' in XPath expressions
  - CLI Alias: `search results`
  - Default value: `true`
- `sha1caching` (Boolean) Enables/disables SHA1-assisted stylesheet caching. With SHA1 caching enabled, stylesheets are cached by both URL and SHA1 message digest value. With SHA1 caching disabled, stylesheets are cached only by URL.
  - CLI Alias: `xsl checksummed cache`
  - Default value: `true`
- `static_document_calls` (Boolean) The latest XSLT specifications require that multiple document calls in the same transformation return the same result. Disable to allow all document calls to operate independently.
  - CLI Alias: `static-document-calls`
  - Default value: `true`
- `url_refresh_policy` (String) Optionally, assigns a Stylesheet Refresh Policy to the XML manager. Stylesheets cached by this manager are refreshed in accordance with policy rules.
  - CLI Alias: `xslrefresh`
  - Reference to: `datapower_url_refresh_policy:id`
- `user_agent` (String) Identifies the User Agent configuration the XML manager uses to connect to external servers to retrieve resources.
  - CLI Alias: `user-agent`
  - Reference to: `datapower_http_user_agent:id`
  - Default value: `default`
- `user_summary` (String) Comments
  - CLI Alias: `summary`
- `virtual_servers` (List of String) Select a Load Balancer Group and assign that group to this XML manager. A Load Balancer Group, or server pool, provides redundancy among backside resources.
  - CLI Alias: `loadbalancer-group`
  - Reference to: `datapower_load_balancer_group:id`

<a id="nestedatt--dependency_actions"></a>
### Nested Schema for `dependency_actions`

Required:

- `action` (String) Action to take on target resource
- `target_domain` (String) Application domain of the target for the action
- `target_type` (String) Resource type of the target for the action

Optional:

- `on_create` (Boolean) Execute this action on the target when creating this resource.
- `on_delete` (Boolean) Execute this action on the target when deleting this resource.
- `on_update` (Boolean) Execute this action on the target when updating this resource.
- `target_id` (String) Id of the target for the action (required for all resources except `datapower_domain`)


<a id="nestedatt--doc_cache_policy"></a>
### Nested Schema for `doc_cache_policy`

Optional:

- `cache_backend_responses` (Boolean) Caches responses to requests from back-end servers.
  - CLI Alias: `cache-backend-response`
  - Default value: `false`
  - Not Valid When: `type`=`no-cache`
- `cache_unsafe_response` (Boolean) Caches responses to POST and PUT requests when the cache policy type is set to fixed. The response to these requests is the result of an action on the server that might change its resource state. You might want to cache responses to these requests when you know that the action (for example: HTTP POST) will not change the server state.
  - CLI Alias: `cache-unsafe-response`
  - Default value: `false`
  - Not Valid When: (`type`!=`fixed` OR `rest_invalidation`=`true`)
- `http_cache_validation` (Boolean) When a requested HTTP document results in a cache hit, HTTP cache validation with the origin server is performed.
  - CLI Alias: `http-cache-validation`
  - Default value: `false`
  - Not Valid When: `type`=`no-cache`
- `match` (String) Provide a literal or wildcard expression to define a URL set included in the cache policy. The following wildcard characters are available. <table><tr><td valign="top">asterisk (*)</td><td valign="top">Matches 0 or more occurrences of any character.</td></tr><tr><td valign="top">question mark (?)</td><td valign="top">Matches one occurrence of any single character.</td></tr><tr><td valign="top">brackets ( [ ] )</td><td valign="top">Defines a character or numeric range. For example, <tt>[1-5]</tt> matches 1, 2, 3, 4, or 5, while <tt>xs[dl]</tt> matches xsd or xsl.</td></tr></table>
  - CLI Alias: `match`
- `priority` (Number) <p>Specifies the priority of a document to add to or remove from the cache. The greater the value, the higher its priority. Enter a value in the range 1 - 255. The default value is 128.</p><ul><li>When adding documents, the cache uses the policy with the highest priority. If the document matches multiple policies with the same priority, the cache uses the first matching policy in the alphabetized list.</li><li>When removing documents, the cache removes documents that were added by policies with the lowest priority. If multiple documents have the same priority, the cache removes the document that was least recently accessed.</li></ul><p>When you define multiple policies, the DataPower Gateway retains the policies in an alphabetized list. The DataPower Gateway evaluates candidate documents against each policy. Consequently, the priority of policies is important to ensure that the DataPower Gateway caches candidate documents for the appropriate validity period.</p><ul><li>Use a high priority for policies that you want to cache.</li><li>Use a low priority for generic policies. For example, set the priority to 1 when <tt>*</tt> or <tt>*.xml</tt> is the match pattern.</li></ul>
  - CLI Alias: `priority`
  - Range: `1`-`255`
  - Default value: `128`
- `rest_invalidation` (Boolean) Invalidate document cache on unsafe requests. For example, HTTP GET requests are safe requests that do not change the internal state of the server. When an HTTP POST to the same URL occurs, the cache needs to be invalidated because the internal state of the server might have changed. The next GET request must contact the origin service to update the cache with any changes.
  - CLI Alias: `rest-invalidation`
  - Default value: `false`
  - Not Valid When: (`type`=`no-cache` OR `cache_unsafe_response`=`true`)
- `return_expired` (Boolean) <p>In the following situations, whether to return expired content when a client requests it. <ul><li>The DataPower Gateway cannot establish a connection with the origin server.</li><li>The document cache is getting the newest version from the origin server.</li></ul></p><p>A document might persist in the cache after the document is expired. When enabled, the cached document is returned even though it is potentially stale. A warning header indicates that the document is stale.</p>
  - CLI Alias: `return-expired`
  - Default value: `false`
  - Not Valid When: `type`=`no-cache`
- `ttl` (Number) Sets the validity period in seconds for documents in the cache. TTL applies to only the <tt>Fixed</tt> policy type. Enter a value in the range 5 - 31708800. The default value is 900.
  - CLI Alias: `ttl`
  - Range: `0`-`31708800`
  - Default value: `900`
  - Required When: `type`=`fixed`
  - Not Valid When: `type`=`protocol`|`no-cache`
- `type` (String) Select the cache type. The cache type determines whether to cache documents and the mechanism to use to remove cached entries. The default value is Protocol-Based.
  - CLI Alias: `type`
  - Choices: `protocol`, `no-cache`, `fixed`
  - Default value: `protocol`
- `xc10grid` (String) The eXtreme Scale grid configuration to use for caching documents.
  - CLI Alias: `xc10-grid`
  - Not Valid When: `type`=`no-cache`


<a id="nestedatt--scheduled_rule"></a>
### Nested Schema for `scheduled_rule`

Required:

- `rule` (String) Select the rule to run.
  - Reference to: `datapower_style_policy_rule:id`

Optional:

- `interval` (Number) Specify the interval between invocations in seconds. A value of 0 indicates a single invocation.


<a id="nestedatt--schema_validation"></a>
### Nested Schema for `schema_validation`

Required:

- `matching` (String) Select the matching rule that is applied to candidate XML documents. Documents whose URL conforms to an expression contained in the matching rule are subject to XML schema validation.
  - Reference to: `datapower_matching:id`
- `validation_mode` (String) Select the procedure to use to validate a schema.
  - Choices: `default`, `schema`, `schema-rewrite`, `attribute-rewrite`, `dynamic-schema`

Optional:

- `dynamic_schema` (String) Select a dynamic schema used to perform document validation regardless of any validation processing instructions contained within the document. Dynamic schemas used Schema Exception Maps or Document Crypto Maps.
  - Required When: `validation_mode`=`dynamic-schema`
  - Not Valid When: `validation_mode`=`schema-rewrite`|`schema`|`attribute-rewrite`|`default`
- `schema_url` (String) Enter the URL of the schema to use for validation. Used only when the Validation Mode is schema or schema-rewrite.
  - Required When: `validation_mode`=`schema`|`schema-rewrite`
  - Not Valid When: `validation_mode`=`attribute-rewrite`|`dynamic-schema`|`default`
- `url_rewrite_policy` (String) Select a URL Rewrite Policy from the list. Used only the Validation Mode is attribute-rewrite or schema-rewrite.
  - Reference to: `datapower_url_rewrite_policy:id`
  - Required When: `validation_mode`=`attribute-rewrite`|`schema-rewrite`
  - Not Valid When: `validation_mode`=`schema`|`dynamic-schema`|`default`
