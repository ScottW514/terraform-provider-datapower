---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "datapower_rbm_settings Data Source - terraform-provider-datapower"
subcategory: ""
description: |-
  
---

# datapower_rbm_settings (Data Source)

<p>Manage role-based management (RBM) settings: RBM, password policy, and account policy</p><ul><li>RBM consists of the following capabilities: Authenticating users, evaluating the access profile, enforcing access to resources</li><li>The password policy sets the password requirements for local user accounts.</li><li>The account policy sets the lockout behavior and the timeout for CLI sessions.</li></ul>

## Example Usage

```terraform
data "datapower_rbm_settings" "test" {
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `dependency_actions` (Attributes List) Actions to take on other resources when operations are performed on this resource. (see [below for nested schema](#nestedatt--dependency_actions))

### Read-Only

- `apply_to_cli` (Boolean) Specify whether to enforce the RBM policy on CLI sessions. When authentication uses a TLS certificate from a connection peer, you cannot enforce RBM on CLI sessions unless fallback users are supported.
- `au_cache_allow` (String) Authentication cache mode
- `au_cache_ttl` (Number) Specify the expiry for cached authentication decisions. Enter a value in the range 1 - 86400. The default value is 600.
- `au_custom_url` (String) Custom URL
- `au_force_dn_ldap_order` (Boolean) Specify whether to convert the extracted DN to LDAP format. This property is essential when the extracted DN from a TLS certificate is in X.500 format. This format arranges the RDNs of the DNs from left to right with forward slashes as separators; for example, <tt>C=US/O=My Organization/CN=Fred</tt> . <p>When you retrieve the group name with an LDAP search, the authenticated DN must be in LDAP format. This format arranges the RDNs of the DNs from right to left with commas as separators; for example, <tt>CN=Fred, O=My Organization, C=US</tt> .</p>
- `au_host` (String) Server host
- `au_info_url` (String) Specify the URL of the XML file for authentication. The XML file can be on the DataPower Gateway or on a remote server. You can use the same XML file to map credentials.
- `au_kerberos_keytab` (String) Kerberos keytab
- `au_ldap_bind_dn` (String) LDAP bind DN
- `au_ldap_bind_password_alias` (String) LDAP bind password alias
- `au_ldap_load_balance_group` (String) Specify the load balancer group of LDAP servers. This setting overrides the settings for the server host and port.
- `au_ldap_prefix` (String) Specify the string to add before the username to form the DN. If this value is <tt>CN=</tt> and the username is <tt>Bob</tt> , the complete DN is <tt>CN=Bob,O=example.com</tt> when the LDAP suffix is <tt>O=example.com</tt> .
- `au_ldap_read_timeout` (Number) Specify the time to wait for a response from the LDAP server before the DataPower Gateway closes the LDAP connection. Enter a value in the range 0 - 86400. The default value is 60. A value of 0 indicates that the connection never times out.
- `au_ldap_search_for_dn` (Boolean) Specify whether to retrieve the user DN with an LDAP search. <ul><li>When enabled, the login name presented by the user is used with the LDAP search parameters for an LDAP search to retrieve the user DN.</li><li>When disabled, the login name presented by the user is used with the LDAP prefix and suffix to construct the user DN.</li></ul>
- `au_ldap_search_parameters` (String) LDAP search parameters
- `au_method` (String) Authentication method
- `au_oidc_client_id` (String) Client ID
- `au_oidc_client_secret` (String) Client secret
- `au_oidc_identity_service_url` (String) Identity service URL
- `au_oidc_identity_service_url_ssl_client` (String) TLS client profile
- `au_oidc_key_fetch_interval` (Number) Retrieval interval for public keys.
- `au_oidc_scope` (String) Scope
- `au_port` (Number) Server port
- `au_ssl_valcred` (String) Validation credentials
- `au_zos_nss_config` (String) z/OS NSS client
- `ca_pub_key_file` (String) Specify the certificate authority (CA) public key file in the <tt>cert:</tt> directory for SSH authentication with SSH user certificates. This public key file contains the public key for one or more certificate authorities.
- `cli_timeout` (Number) Specify the time after which to invalidate idle CLI sessions. When invalidated, requires re-authentication. Enter a value in the range 0 - 65535. A value of 0 disables the timer. The default value depends on common criteria mode. <ul><li>When common criteria is enabled, the default value is 900.</li><li>When common criteria is not enabled, the default value is 0.</li></ul>
- `disallow_username_substring` (Boolean) Disallow username substring
- `do_password_aging` (Boolean) Enable aging
- `do_password_history` (Boolean) Control reuse
- `enabled` (Boolean) <p>The administrative state of the configuration.</p><ul><li>To make active, set to enabled.</li><li>To make inactive, set to disabled.</li></ul>
- `fallback_login` (String) Specify whether to use local user accounts as fallback users if remote authentication fails. With fallback users, local user accounts can log on to the DataPower Gateway if authentication fails or during a network outage that affects primary authentication. The recommendation is to restrict fallback users to a subset of local user accounts. <p><b>Note: </b>When authentication uses a TLS certificate from a connection peer, you cannot enforce RBM on CLI sessions unless fallback users are supported.</p>
- `fallback_user` (List of String) Fallback users
- `ldap_ssl_client_config_type` (String) TLS client type
- `ldap_ssl_client_profile` (String) TLS client profile
- `ldap_suffix` (String) Specify the string to add after the username to form the DN. If this value is <tt>O=example.com</tt> and the username is <tt>Bob</tt> , the complete DN is <tt>CN=Bob,O=example.com</tt> when the LDAP prefix is <tt>CN=</tt> .
- `ldap_version` (String) LDAP version
- `lockout_period` (Number) Specify the duration to lock out local user accounts after the maximum number of failed login attempts is exceeded. Instead of locking out accounts for a specific duration, the account can be locked out until re-enabled by a privileged user. Enter a value in the range 0 - 1000, where 0 locks out accounts until reset. The default value depends on common criteria mode. <ul><li>When common criteria is enabled, the default value is 0.</li><li>When common criteria is not enabled, the default value is 1.</li></ul><p><b>Note:</b> The duration applies to all local accounts, including the <tt>admin</tt> user account. The only difference is that the <tt>admin</tt> user account cannot be locked out until reset. When the duration is 0, the <tt>admin</tt> user account is locked out for 120 minutes or until re-enabled by a privileged user.</p>
- `max_failed_login` (Number) Specify the number of failed login attempts to allow before account lockout. Enter a value in the range of 0 - 64, where 0 disables account lockout. The default value depends on common criteria mode. <ul><li>When common criteria is enabled, the default value is 3.</li><li>When common criteria is not enabled, the default value is 0.</li></ul>
- `max_password_age` (Number) Specify the expiry for passwords. The default value depends on common criteria mode. <ul><li>When common criteria is enabled, the default value is 90.</li><li>When common criteria is not enabled, the default value is 30.</li></ul>
- `mc_custom_url` (String) Custom URL
- `mc_force_dn_ldap_order` (Boolean) Specify whether to convert the extracted DN to LDAP format. This property is essential when the extracted DN from a TLS certificate is in X.500 format. This format arranges the RDNs of the DNs from left to right with forward slashes as separators; for example, <tt>C=US/O=My Organization/CN=Fred</tt> . <p>When you retrieve the group name with an LDAP search, the authenticated DN must be in LDAP format. This format arranges the RDNs of the DNs from right to left with commas as separators; for example, <tt>CN=Fred, O=My Organization, C=US</tt> .</p>
- `mc_host` (String) Server host
- `mc_info_url` (String) Specify the URL of the XML file to map credentials. The XML file can be on the DataPower Gateway or on a remote server. You can use the same XML file for authentication.
- `mc_ldap_bind_dn` (String) LDAP bind DN
- `mc_ldap_bind_password_alias` (String) LDAP bind password alias
- `mc_ldap_load_balance_group` (String) Load balancer group
- `mc_ldap_read_timeout` (Number) Specify the time to wait for a response from the LDAP server before the DataPower Gateway closes the LDAP connection. Enter a value in the range 0 - 86400. The default value is 60. A value of 0 indicates that the connection never times out.
- `mc_ldap_search_for_group` (Boolean) Specify whether to search LDAP to retrieve all user groups that match the query. <ul><li>When enabled, the authenticated DN of the user and the LDAP search parameters are used as part of the LDAP search to retrieve all user groups that match the query. When a user belongs to multiple groups, the resultant access policy for this user is additive not most restrictive.</li><li>When disabled, the authenticated identity of the user (DN or user group of local user) is used directly as the input credential.</li></ul>
- `mc_ldap_search_parameters` (String) LDAP search parameters
- `mc_ldap_ssl_client_config_type` (String) TLS client type
- `mc_ldap_ssl_client_profile` (String) TLS client profile
- `mc_method` (String) Credential-mapping method
- `mc_port` (Number) Server port
- `min_password_length` (Number) Specify the minimum length of a valid password. Enter a value in the range 1 - 128. The default value depends on common criteria mode. <ul><li>When common criteria is enabled, the default value is 14.</li><li>When common criteria is not enabled, the default value is 6.</li></ul>
- `num_old_passwords` (Number) Specify the number of recent passwords to track to prevent reuse. The default value depends on common criteria mode. <ul><li>When common criteria is enabled, the default value is 3.</li><li>When common criteria is not enabled, the default value is 5.</li></ul>
- `password_hash_algorithm` (String) Specify the algorithm to apply to passwords before they are stored. The hash algorithm affects firmware downgrade and cryptographic modes in the following ways. <ul><li>For firmware downgrade, sha256crypt is not supported in releases earlier than 6.0.1.0.</li><li>For cryptographic modes, like FIPS 140-2 Level 1, md5crypt is not supported in FIPS mode.</li></ul>
- `require_digit` (Boolean) Require number
- `require_mixed_case` (Boolean) Require mixed case
- `require_non_alpha_numeric` (Boolean) Require non-alphanumeric
- `restrict_admin_to_serial_port` (Boolean) Restrict admin to serial
- `revoked_keys` (List of String) Specify the OpenSSH public keys to revoke for SSH authentication. Each entry is the public key file in the <tt>cert:</tt> or <tt>sharedcert:</tt> directory and must be in the OpenSSH public key format. These keys are signed by the CA user public key file.
- `ssh_au_method` (Attributes) Specify the method to authenticate SSH users. <ul><li>When no method, the user is prompted for both username and password.</li><li>When password, the user is prompted for the password. For this method, the username must be part of the invocation. With the ssh command, the invocation is in the ssh username@host format.</li><li>When user certificate, the user is not prompted for input. The connection is successful when the invocation provides a signed SSH user certificate that is verified by the CA public key file in the <tt>cert:</tt> directory. With the ssh command, the invocation must include the -i file parameter.</li><li>When both certificate and password, processing attempts to first authenticate with the provided signed SSH user certificate. If unsuccessful, prompts for the password.</li><li>Supported RBM authentication methods with SSH authentication method are local and LDAP. <ul><li>Local authentication method extracts the certificate identity and attempts login with local User of that name.</li><li>LDAP authentication method constructs the DN through LDAP search or by applying the configured prefix and suffix. Since SSH authentication completes prior to the Authentication step no LDAP bind or authenticate will take place.</li></ul></li></ul>
  - CLI Alias: `ssh-au-method` (see [below for nested schema](#nestedatt--ssh_au_method))
- `user_summary` (String) Comments

<a id="nestedatt--dependency_actions"></a>
### Nested Schema for `dependency_actions`

Required:

- `action` (String) Action to take on target resource
- `target_domain` (String) Application domain of the target for the action
- `target_type` (String) Resource type of the target for the action

Optional:

- `on_create` (Boolean) Execute this action on the target when creating this resource.
- `on_delete` (Boolean) Execute this action on the target when deleting this resource.
- `on_update` (Boolean) Execute this action on the target when updating this resource.
- `target_id` (String) Id of the target for the action (required for all resources except `datapower_domain`)


<a id="nestedatt--ssh_au_method"></a>
### Nested Schema for `ssh_au_method`

Read-Only:

- `certificate` (Boolean) CA-signed user certificate
  - Default value: `false`
- `password` (Boolean) Password
  - Default value: `false`
