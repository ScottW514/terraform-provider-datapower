---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "datapower_load_balancer_group Data Source - terraform-provider-datapower"
subcategory: ""
description: |-
  
---

# datapower_load_balancer_group (Data Source)

<p>The DataPower device distributes traffic to members of a Load Balancer Group. These are back end servers and not additional DataPower devices. A Load Balancer Group lists members of a virtual server group and sets the algorithm for balancing them. Periodic health checks can be performed. Load Balancers may also be used to provide redundant LDAP server access.</p><p>When created, a DataPower service can use a Load Balancer Group by associating it with an XML manager that is associated with this service.</p><p>The back end destination URL is set to the name of the Load Balancer Group (example: "BackEndServers").</p>

## Example Usage

```terraform
data "datapower_load_balancer_group" "test" {
  id         = "AccTest_LoadBalancerGroup"
  app_domain = "acceptance_test"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `app_domain` (String) The name of the application domain the object belongs to.

### Optional

- `id` (String) The name of the object to retrieve.
- `provider_target` (String) Target host to retrieve this data from. If not set, provider will use the top level settings.

### Read-Only

- `result` (Attributes List) List of objects. If `id` was provided and it exists, it will be the only item in the list. (see [below for nested schema](#nestedatt--result))

<a id="nestedatt--result"></a>
### Nested Schema for `result`

Optional:

- `dependency_actions` (Attributes List) Actions to take on other resources when operations are performed on this resource. (see [below for nested schema](#nestedatt--result--dependency_actions))

Read-Only:

- `algorithm` (String) Select the algorithm to use to balance the real servers.
- `app_domain` (String) The name of the application domain the object belongs to
- `application_routing` (Boolean) <p>If set to on, the load balancer group will route to the back end cluster depending on the following conditions.</p><ul><li>the application for which this request is targeted</li><li>the application status on the back end servers</li></ul><p>Application Routing is required for Application Edition (group or atomic) rollout. If you need Application Edition support, set the Update Type to Subscribe in the WebSphere Cell object.</p>
- `damp` (Number) When a real server is observed to be non-functioning, it is temporarily disabled. When the damp time has elapsed, it is re-enabled. Allowable values are in the range 1 - 86400.
- `id` (String) Name of the object. Must be unique among object types in application domain.
- `lb_group_affinity_conf` (Attributes) Session affinity allows applications to maintain sessions with clients.
  - CLI Alias: `session-affinity` (see [below for nested schema](#nestedatt--result--lb_group_affinity_conf))
- `lb_group_checks` (Attributes) The members of a Load Balancer Group can be periodically polled to verify the health of the server. If the server is found to be unresponsive, it is removed from the list of actively available servers until the unresponsive server passes a health check.
  - CLI Alias: `health-check` (see [below for nested schema](#nestedatt--result--lb_group_checks))
- `lb_group_members` (Attributes List) Members (see [below for nested schema](#nestedatt--result--lb_group_members))
- `masquerade_member` (Boolean) If you set this value, the host name presented to the server will be the name of the group instead of the name of the member being used for that specific transaction.
- `monitored_cookies` (List of String) The DataPower Gateway enforces session affinity when the application server attempts to establish session affinity using one of these cookie names.
- `never_return_sick_member` (Boolean) During normal operation, when all members of the load-balancing group are down and a new request for that group is made, the first member of the group is automatically selected. If this property is turned on, no attempt will be made to connect under these circumstances.
- `provider_target` (String) Target host to retrieve this data from. If not set, provider will use the top level settings.
- `retrieve_info` (Boolean) Use this setting to control whether this Load Balancer Group has membership and weight information automatically retrieved from the work load management repository WebSphere Cell. When disabled, the static configuration is used.
- `try_every_server_before_failing` (Boolean) This property applies only when none of the group members are in the "up" state. If this value is set, every server in the group is tried before failing the connection attempt. It is a "last best-effort" attempt.
- `user_summary` (String) Comments
- `web_sphere_cell_config` (String) If you selected 'WebSphere Cell' for Workload Management Retrieval, you need to select a WebSphere Cell object that retrieves this information. If no objects are available in the pull down, you must create one.
- `wlm_group` (String) The Workload Management Group Name is used to define a group. In a WebSphere Application Server environment, the back end group is a cluster name. Once specified, the Load Balancer Group will be populated with the members and weights retrieved from the back end.
- `wlm_retrieval` (String) Contains the back end work load management repository selection type. Select 'WebSphere Cell' if your back-end is a WebSphere Application Server (WAS) Network Deployment (ND) or WAS Virtual Enterprise (VE).
- `wlm_transport` (String) Specify either HTTP or HTTPS for the Load Balancer Group protocol. This protocol is used to forward traffic between the DataPower Gateway and the members of the Load Balancer Group.

<a id="nestedatt--result--dependency_actions"></a>
### Nested Schema for `result.dependency_actions`

Required:

- `action` (String) Action to take on target resource
- `target_domain` (String) Application domain of the target for the action
- `target_type` (String) Resource type of the target for the action

Optional:

- `on_create` (Boolean) Execute this action on the target when creating this resource.
- `on_delete` (Boolean) Execute this action on the target when deleting this resource.
- `on_update` (Boolean) Execute this action on the target when updating this resource.
- `target_id` (String) Id of the target for the action (required for all resources except `datapower_domain`)


<a id="nestedatt--result--lb_group_affinity_conf"></a>
### Nested Schema for `result.lb_group_affinity_conf`

Read-Only:

- `affinity_mode` (String) The mode of session affinity applied to this load balancer group.
- `affinity_wlm_override` (Boolean) Overrides the WebSphere Cell Session Affinity cluster configuration with the DataPower Gateway configuration information below.
- `enable_sa` (Boolean) Enables or disables session affinity operations.
- `insertion_attributes` (Attributes) Specifies the attributes to insert in the cookie in the response when active or active-conditional session affinity is required.
  - CLI Alias: `i-cookie-attributes` (see [below for nested schema](#nestedatt--result--lb_group_affinity_conf--insertion_attributes))
- `insertion_cookie_name` (String) Name of the cookie inserted into the response when active or active-conditional session affinity is required.
- `insertion_domain` (String) The domain added to the insertion cookie in the response when active or active-conditional session affinity is required. The domain name cannot begin with a dot.
- `insertion_path` (String) The path added to the insertion cookie in the response when active or active-conditional session affinity is required.

<a id="nestedatt--result--lb_group_affinity_conf--insertion_attributes"></a>
### Nested Schema for `result.lb_group_affinity_conf.insertion_attributes`

Read-Only:

- `httponly` (Boolean) HttpOnly
- `secure` (Boolean) Secure



<a id="nestedatt--result--lb_group_checks"></a>
### Nested Schema for `result.lb_group_checks`

Read-Only:

- `active` (Boolean) Enables or disables a health check. The check will not run unless enabled
- `enforce_timeout` (Boolean) Indicates whether the health check timeout value is used to interrupt and end a health transaction. By default, the health check timeout only compares the actual time that the request took. With the default behavior, the health check timeout is not used to interrupt the transaction.
- `filter` (String) Enter the URL of the stylesheet that evaluates the server response using the XPath Expression entered above. The default is supplied on this DataPower device.
- `frequency` (Number) Enter an integer between 5 and 86400 to indicate the number of seconds to wait between health check posts. The default is 180.
- `gateway_script_checks` (Boolean) Enables or disables GatewayScript health check processing. If enabled, content of health check requests and responses can be of any type and the response evaluator will be a GatewayScript file.
- `gateway_script_custom_req_method` (String) The name of the custom method to use for Standard health check requests when GatewayScript processing is enabled.
- `gateway_script_req_content_type` (String) Enter the content type of the Request Document for Standard health checks with GatewayScript.
- `gateway_script_req_doc` (String) Enter the URL of the Request Document. This might be a file on the local flash filesystem (for example, local:///healthcheck.xml). This document is included in the request to the server if the POST, PUT, or Custom method is selected for Standard health checks with GatewayScript. If the HTTP method is Custom, the request document is optional.
- `gateway_script_req_method` (String) The HTTP method to use for Standard health checks with GatewayScript. If Custom is selected, a custom method name must also be specified.
- `gateway_script_rsp_handler` (String) Enter the URL of the GatewayScript file that evaluates the server response using the Response Evaluator Metadata. The default GatewayScript file is supplied on the DataPower Gateway.
- `gateway_script_rsp_handler_metadata` (String) Enter a string to be used by the GatewayScript Response Evaluator to help determine the state of the server's health.
- `independent_checks` (Boolean) Indicates whether the health checks within a Load Balancer Group run independently of one another. By default, health checks within a Load Balancer Group run sequentially. With the default behavior, if a server hangs, all the other health checks for the other members are delayed.
- `input` (String) Enter the URL of the SOAP Request Document. This may be a file on the local flash filesystem (for example, local:///healthcheck.xml). This document is POSTed to the server if Send SOAP Request is on.
- `port` (Number) Enter the TCP Port number to test. The remote port and the member server health port interact differently depending on the type of the health check. <ul><li>Standard: The member server health port is used if specified. If not specified, the remote port in the load balancer group health check is used.</li><li>LDAP: The remote port in the load balancer group health check only is used. A specification of a health port for the member server is ignored.</li><li>IMS: The health port of the member only is used. The remote port in the load balancer group health check is ignored.</li></ul>
- `post` (Boolean) When set to on, the SOAP Request Document will be submitted to the web service via an HTTP POST operation. When set to off (without a request document), an HTTP Get operation is sent. The expected response is always valid XML and it is then analyzed using the Xpath Expression to verify the state of health of the server.
- `ssl` (String) Type of health check to perform. In TCP mode (TCP Connection health check type), a health check is performed with a TCP connection request. In HTTP mode (Standard health check type), a health check is performed with an HTTP GET or HTTP POST.
- `ssl_client` (String) The TLS client profile to secure connections between the DataPower Gateway and its targets.
- `ssl_client_config_type` (String) The TLS profile type to secure connections between the DataPower Gateway and its targets.
- `tcp_connection_type` (String) When set to full, a TCP Connection health check will perform a complete three-way handshake to establish a connection, followed by a four-way handshake to close the connection. When set to partial, a TCP Connection health check will perform a half-open connection to check a member's health. The three-way handshake to establish a connection will not be completed for partial connection types.
- `timeout` (Number) Enter an integer between 2 and 86400 to indicate the number of seconds to wait for a response to a health check post. The default is 10.
- `uri` (String) The relative URI to test for each member of the group. XXX in http://www.foobar.com/XXX.
- `xpath` (String) Enter an XPath Expression that verifies the health of the server. The expression is applied to the server's response to the health check POST. If the expression is true, the server is healthy. Otherwise, the server health state is softdown until it passes a health check.


<a id="nestedatt--result--lb_group_members"></a>
### Nested Schema for `result.lb_group_members`

Read-Only:

- `activity` (String) DEPRECATED.
- `health_port` (Number) Specifies the TCP Port number to test.
- `lb_member_state` (String) Enable or Disable the Load Balancer Member. If the Administrative State is disabled, the member are not used in health or forwarding checks.
- `mapped_port` (Number) <p>Specifies the port on the real server. If non-zero, the associated real server is contacted on this port. Normally the real server is contacted on the same port number as that of the virtual server and this should not be set to a value other than zero. However, if you have services that run on different ports for different members of the group, you might need to define this value.</p><p>The DataPower Gateway checks this port when the health check type is IMS Connect.</p>
- `server` (String) Specifies the host name or IP address of the real server.
- `weight` (Number) <p>When balancing with Weighted Round Robin, the weight property indicates the relative priority of this server versus the other members of the group. The greater the weight indicates the higher the preference. Use an integer between 1 and 65000.</p><p>For example, assume three server pool members, A, B, and C, with assigned weights of 5, 3, and 2 respectively. As a result of this weighting, server A can expect to receive approximately 50% of client requests, server B can expect to receive approximately 30% of client requests, with server C receiving the remaining 20%.</p>
